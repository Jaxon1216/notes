**C++ æ ‡å‡†æ¨¡æ¿åº“ (STL, Standard Template Library)**ï¼šåŒ…å«ä¸€äº›å¸¸ç”¨æ•°æ®ç»“æ„ä¸ç®—æ³•çš„æ¨¡æ¿çš„ C++ è½¯ä»¶åº“ã€‚å…¶åŒ…å«å››ä¸ªç»„ä»¶â€”â€”ç®—æ³• (Algorithms)ã€å®¹å™¨ (Containers)ã€ä»¿å‡½æ•° (Functors)ã€è¿­ä»£å™¨ (Iterators).

<!--more-->

ç¤ºä¾‹ï¼š

- ç®—æ³•ï¼š`sort(a.begin(), a.end())`
- å®¹å™¨ï¼š`priority_queue<int> pque`
- ä»¿å‡½æ•°ï¼š`greater<int>()`
- è¿­ä»£å™¨ï¼š`vector<int>::iterator it = a.begin()`



# 1 å‰è¨€

STL ä½œä¸ºä¸€ä¸ªå°è£…è‰¯å¥½ï¼Œæ€§èƒ½åˆæ ¼çš„ C++ æ ‡å‡†åº“ï¼Œåœ¨ç®—æ³•ç«èµ›ä¸­è¿ç”¨æå…¶å¸¸è§ã€‚çµæ´»ä¸”æ­£ç¡®ä½¿ç”¨ STL å¯ä»¥èŠ‚çœéå¸¸å¤šè§£é¢˜æ—¶é—´ï¼Œè¿™ä¸€ç‚¹ä¸ä»…æ˜¯ç”±äºå¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œè¿˜æ˜¯å› ä¸ºå®ƒå°è£…è‰¯å¥½ï¼Œå¯ä»¥è®©ä»£ç çš„å¯è¯»æ€§å˜é«˜ï¼Œè§£é¢˜æ€è·¯æ›´æ¸…æ™°ï¼Œè°ƒè¯•è¿‡ç¨‹ ~~å¾€å¾€~~ æ›´é¡ºåˆ©ã€‚

ä¸è¿‡ STL æ¯•ç«Ÿä½¿ç”¨äº†å¾ˆå¤šå¤æ‚çš„ç»“æ„æ¥å®ç°ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå®ƒçš„æ•ˆç‡å¾€å¾€æ˜¯æ¯”ä¸ä¸Šè‡ªå·±æ‰‹æ“é’ˆå¯¹ç‰¹å®šé¢˜ç›®çš„æ•°æ®ç»“æ„ä¸ç®—æ³•çš„ã€‚å› æ­¤ï¼ŒSTL çš„ä½¿ç”¨ç›¸å½“äºä½¿ç”¨æ›´é•¿çš„è¿è¡Œæ—¶é—´æ¢å–æ›´é«˜çš„ç¼–ç¨‹æ•ˆç‡ã€‚å› æ­¤ï¼Œåœ¨å®é™…æ¯”èµ›ä¸­è¦æƒè¡¡ STL çš„åˆ©å¼Šï¼Œä¸è¿‡è¿™ä¸€ç‚¹å°±å¾—é ç»éªŒäº†ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šåˆ†äº«åœ¨ç®—æ³•ç«èµ›ä¸­å¸¸ç”¨çš„ STL å®¹å™¨å’Œç®—æ³•ï¼Œå¯¹äºå‡½æ•°å’Œè¿­ä»£å™¨ï¼Œå°±ä¸ç€é‡å±•å¼€è®²äº†ã€‚



# 2 å¸¸ç”¨å®¹å™¨

## 2.1 å†…å®¹æ€»è§ˆ

æ‰“å‹¾çš„æ˜¯æœ¬æ¬¡å°†ä¼šè¯¦ç»†è®²è§£çš„ï¼ŒåŠ ç²—çš„æ˜¯ç®—æ³•ç«èµ›ä¸­æœ‰å¿…è¦å­¦ä¹ çš„ã€‚

- é¡ºåºå®¹å™¨

  - [ ] **array**

  - [x] **vector**
  - [ ] **deque**
  - [ ] forward_list
  - [ ] **list**
- å…³è”å®¹å™¨

  - [x] **set**
  - [x] **map**
  - [ ] **multiset**
  - [ ] **multimap**
- æ— åºå…³è”å®¹å™¨

  - [ ] **unordered_set**
  - [ ] **unordered_map**
  - [ ] **unordered_multiset**
  - [ ] **unordered_multimap**
- å®¹å™¨é€‚é…å™¨

  - [x] **stack**
  - [x] **queue**
  - [x] **priority_queue**
  - [ ] flat_set
  - [ ] flat_map
  - [ ] flat_multiset
  - [ ] flat_multimap
- å­—ç¬¦ä¸²
  - [x] **string** (basic_string\<char\>)

- å¯¹ä¸å…ƒç»„
  - [x] **pair**
  - [ ] **tuple**




## 2.2 å‘é‡ [vector](https://zh.cppreference.com/w/cpp/container/vector)

**`#include <vector>`**

è¿ç»­çš„é¡ºåºçš„å‚¨å­˜ç»“æ„ï¼ˆå’Œæ•°ç»„ä¸€æ ·çš„ç±»åˆ«ï¼‰ï¼Œä½†æ˜¯æœ‰é•¿åº¦å¯å˜çš„ç‰¹æ€§ã€‚

### 2.2.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`vector<ç±»å‹> arr(é•¿åº¦, [åˆå€¼])`**

æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$

å¸¸ç”¨çš„ä¸€ç»´å’ŒäºŒç»´æ•°ç»„æ„é€ ç¤ºä¾‹ï¼Œé«˜ç»´ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼ˆå°±æ˜¯ä¼šæœ‰ç‚¹é•¿ï¼‰.

```cpp
vector<int> arr;         // æ„é€ intæ•°ç»„
vector<int> arr(100);    // æ„é€ åˆå§‹é•¿100çš„intæ•°ç»„
vector<int> arr(100, 1); // æ„é€ åˆå§‹é•¿100çš„intæ•°ç»„ï¼Œåˆå€¼ä¸º1

vector<vector<int>> mat(100, vector<int> ());       // æ„é€ åˆå§‹100è¡Œï¼Œä¸æŒ‡å®šåˆ—æ•°çš„äºŒç»´æ•°ç»„
vector<vector<int>> mat(100, vector<int> (666, -1)) // æ„é€ åˆå§‹100è¡Œï¼Œåˆå§‹666åˆ—çš„äºŒç»´æ•°ç»„ï¼Œåˆå€¼ä¸º-1
```

æ„é€ äºŒç»´æ•°ç»„çš„å¥‡è‘©å†™æ³•ï¼Œåƒä¸‡åˆ«ç”¨ï¼š

```cpp
vector<int> arr[100];         // æ­£ç¡®ï¼Œæ„é€ åˆå§‹100è¡Œï¼Œä¸æŒ‡å®šåˆ—æ•°çš„äºŒç»´æ•°ç»„ï¼Œå¯ç”¨äºé“¾å¼å‰å‘æ˜Ÿå­˜å›¾
vector<int> arr[100](100, 1); // è¯­æ³•é”™è¯¯ï¼
vector<int> arr(100, 1)[100]; // è¯­æ³•é”™è¯¯ï¼
vector<int> arr[100] {{100, 1}, è¿™é‡Œçœç•¥98ä¸ª ,{100, 1}}; // æ­£ç¡®ä½†å¥‡è‘©ï¼Œä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–
```

#### å°¾æ¥ & å°¾åˆ 

- **`.push_back(å…ƒç´ )`**ï¼šåœ¨ vector å°¾æ¥ä¸€ä¸ªå…ƒç´ ï¼Œæ•°ç»„é•¿åº¦ $+1$.
- **`.pop_back()`**ï¼šåˆ é™¤ vector å°¾éƒ¨çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ•°ç»„é•¿åº¦ $-1$

æ—¶é—´å¤æ‚åº¦ï¼šå‡æ‘Š $O(1)$

```cpp
// init: arr = []
arr.push_back(1);
// after: arr = [1]
arr.push_back(2);
// after: arr = [1, 2]
arr.pop_back();
// after: arr = [1]
arr.pop_back();
// after: arr = []
```

#### ä¸­æ‹¬å·è¿ç®—ç¬¦

å’Œä¸€èˆ¬æ•°ç»„ä¸€æ ·çš„ä½œç”¨

æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$

#### è·å–é•¿åº¦

**`.size()`**

è·å–å½“å‰ vector çš„é•¿åº¦

æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$

```cpp
for (int i = 0; i < arr.size(); i++)
    cout << a[i] << endl;
```

#### æ¸…ç©º

**`.clear()`**

æ¸…ç©º vector

æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$

#### åˆ¤ç©º

**`.empty()`**

å¦‚æœæ˜¯ç©ºè¿”å› `true` åä¹‹è¿”å› `false`.

æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$

#### æ”¹å˜é•¿åº¦

**`.resize(æ–°é•¿åº¦, [é»˜è®¤å€¼])`**

ä¿®æ”¹ vector çš„é•¿åº¦

- å¦‚æœæ˜¯ç¼©çŸ­ï¼Œåˆ™åˆ é™¤å¤šä½™çš„å€¼
- å¦‚æœæ˜¯æ‰©å¤§ï¼Œä¸”æŒ‡å®šäº†é»˜è®¤å€¼ï¼Œåˆ™æ–°å…ƒç´ å‡ä¸ºé»˜è®¤å€¼ **ï¼ˆæ—§å…ƒç´ ä¸å˜ï¼‰**

æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$

### 2.2.2 é€‚ç”¨æƒ…å½¢

ä¸€èˆ¬æƒ…å†µ `vector` å¯ä»¥æ›¿æ¢æ‰æ™®é€šæ•°ç»„ï¼Œé™¤éè¯¥é¢˜å¡å¸¸ã€‚

æœ‰äº›æƒ…å†µæ™®é€šæ•°ç»„æ²¡æ³•è§£å†³ï¼š$n\times m$ çš„çŸ©é˜µï¼Œ$1\leq n,m\leq 10^6$ ä¸” $n\times m \leq 10^6$

- å¦‚æœç”¨æ™®é€šæ•°ç»„ `int mat[1000010][1000010]`ï¼Œæµªè´¹å†…å­˜ï¼Œä¼šå¯¼è‡´ MLEã€‚
- å¦‚æœä½¿ç”¨ `vector<vector<int>> mat(n + 10, vector<int> (m + 10))`ï¼Œå®Œç¾è§£å†³è¯¥é—®é¢˜ã€‚

å¦å¤–ï¼Œ`vector` çš„æ•°æ®å‚¨å­˜åœ¨å †ç©ºé—´ä¸­ï¼Œä¸ä¼šçˆ†æ ˆã€‚

### 2.2.3 æ³¨æ„äº‹é¡¹

#### æå‰æŒ‡å®šé•¿åº¦

å¦‚æœé•¿åº¦å·²ç»ç¡®å®šï¼Œé‚£ä¹ˆåº”å½“ç›´æ¥åœ¨æ„é€ å‡½æ•°æŒ‡å®šé•¿åº¦ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ª `.push_back()`. å› ä¸º `vector` é¢å¤–å†…å­˜è€—å°½åçš„é‡åˆ†é…æ˜¯æœ‰æ—¶é—´å¼€é”€çš„ï¼Œç›´æ¥æŒ‡å®šé•¿åº¦å°±ä¸ä¼šå‡ºç°é‡åˆ†é…äº†ã€‚

```cpp
// ä¼˜åŒ–å‰: 522ms
vector<int> a;
for (int i = 0; i < 1e8; i++)
    a.push_back(i);
// ä¼˜åŒ–å: 259ms
vector<int> a(1e8);
for (int i = 0; i < a.size(); i++)
    a[i] = i;
```

#### å½“å¿ƒ size_t æº¢å‡º

vector è·å–é•¿åº¦çš„æ–¹æ³• `.size()` è¿”å›å€¼ç±»å‹ä¸º `size_t`ï¼Œé€šå¸¸ OJ å¹³å°ä½¿ç”¨çš„æ˜¯ 32 ä½ç¼–è¯‘å™¨ï¼ˆæœ‰äº›å¹³å°ä¾‹å¦‚ cf å¯é€‰ 64 ä½ï¼‰ï¼Œé‚£ä¹ˆè¯¥ç±»å‹èŒƒå›´ä¸º $[0,2^{32})$.

```cpp
vector<int> a(65536);
long long a = a.size() * a.size(); // ç›´æ¥æº¢å‡ºå˜æˆ0äº†
```

## 2.3 æ ˆ [stack](https://zh.cppreference.com/w/cpp/container/stack)

**`#include <stack>`**

é€šè¿‡äºŒæ¬¡å°è£…åŒç«¯é˜Ÿåˆ— (deque) å®¹å™¨ï¼Œå®ç°å…ˆè¿›åå‡ºçš„æ ˆæ•°æ®ç»“æ„ã€‚

### 2.3.1 å¸¸ç”¨æ–¹æ³•

| ä½œç”¨                   | ç”¨æ³•              | ç¤ºä¾‹                 |
| ---------------------- | ----------------- | -------------------- |
| æ„é€                    | `stack<ç±»å‹> stk` | `stack<int> stk;`    |
| è¿›æ ˆ                   | `.push(å…ƒç´ )`     | `stk.push(1);`       |
| å‡ºæ ˆ                   | `.pop()`          | `stk.pop();`         |
| å–æ ˆé¡¶                 | `.top()`          | `int a = stk.top();` |
| æŸ¥çœ‹å¤§å° / æ¸…ç©º / åˆ¤ç©º | ç•¥                | ç•¥                   |

### 2.3.2 é€‚ç”¨æƒ…å½¢

å¦‚æœä¸å¡å¸¸çš„è¯ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨å®ƒè€Œä¸éœ€è¦æ‰‹å†™æ ˆäº†ã€‚

å¦å¤–ï¼Œvector ä¹Ÿå¯ä»¥å½“æ ˆç”¨ï¼Œvector çš„ `.back()` å–å°¾éƒ¨å…ƒç´ ï¼Œå°±ç›¸å½“äºå–æ ˆé¡¶ï¼Œ`.push_back()` ç›¸å½“äºè¿›æ ˆï¼Œ`.pop_back()` ç›¸å½“äºå‡ºæ ˆã€‚

### 2.3.3 æ³¨æ„äº‹é¡¹

ä¸å¯è®¿é—®å†…éƒ¨å…ƒç´ ï¼**ä¸‹é¢éƒ½æ˜¯é”™è¯¯ç”¨æ³•**

```cpp
for (int i = 0; i < stk.size(); i++)
    cout << stk[i] << endl;
for (auto ele : stk)
    cout << stk << endl;
```

## 2.4 é˜Ÿåˆ— [queue](https://zh.cppreference.com/w/cpp/container/queue)

**`#include <queue>`**

é€šè¿‡äºŒæ¬¡å°è£…åŒç«¯é˜Ÿåˆ— (deque) å®¹å™¨ï¼Œå®ç°å…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—æ•°æ®ç»“æ„ã€‚

### 2.4.1 å¸¸ç”¨æ–¹æ³•

| ä½œç”¨                   | ç”¨æ³•              | ç¤ºä¾‹                   |
| ---------------------- | ----------------- | ---------------------- |
| æ„é€                    | `queue<ç±»å‹> que` | `queue<int> que;`      |
| è¿›é˜Ÿ                   | `.push(å…ƒç´ )`     | `que.push(1);`         |
| å‡ºé˜Ÿ                   | `.pop()`          | `que.pop();`           |
| å–é˜Ÿé¦–                 | `.front()`        | `int a = que.front();` |
| å–é˜Ÿå°¾                 | `.back()`         | `int a = que.back();`  |
| æŸ¥çœ‹å¤§å° / æ¸…ç©º / åˆ¤ç©º | ç•¥                | ç•¥                     |

### 2.4.2 é€‚ç”¨æƒ…å½¢

å¦‚æœä¸å¡å¸¸çš„è¯ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨å®ƒè€Œä¸éœ€è¦æ‰‹å†™é˜Ÿåˆ—äº†ã€‚

### 2.4.3 æ³¨æ„äº‹é¡¹

ä¸å¯è®¿é—®å†…éƒ¨å…ƒç´ ï¼**ä¸‹é¢éƒ½æ˜¯é”™è¯¯ç”¨æ³•**

```cpp
for (int i = 0; i < que.size(); i++)
    cout << que[i] << endl;
for (auto ele : que)
    cout << ele << endl;
```

## 2.5 ä¼˜å…ˆé˜Ÿåˆ— [priority_queue](https://zh.cppreference.com/w/cpp/container/priority_queue)

**`#include <queue>`**

æä¾›å¸¸æ•°æ—¶é—´çš„æœ€å¤§å…ƒç´ æŸ¥æ‰¾ï¼Œå¯¹æ•°æ—¶é—´çš„æ’å…¥ä¸æå–ï¼Œåº•å±‚åŸç†æ˜¯äºŒå‰å †ã€‚

### 2.5.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`priority_queue<ç±»å‹, å®¹å™¨, æ¯”è¾ƒå™¨> pque`**

- ç±»å‹ï¼šè¦å‚¨å­˜çš„æ•°æ®ç±»å‹
- å®¹å™¨ï¼šå‚¨å­˜æ•°æ®çš„åº•å±‚å®¹å™¨ï¼Œé»˜è®¤ä¸º `vector<ç±»å‹>`ï¼Œç«èµ›ä¸­ä¿æŒé»˜è®¤å³å¯
- æ¯”è¾ƒå™¨ï¼šæ¯”è¾ƒå¤§å°ä½¿ç”¨çš„æ¯”è¾ƒå™¨ï¼Œé»˜è®¤ä¸º `less<ç±»å‹>`ï¼Œå¯è‡ªå®šä¹‰

```cpp
priority_queue<int> pque1;                            // å‚¨å­˜intçš„å¤§é¡¶å †
priority_queue<int, vector<int>, greater<int>> pque2; // å‚¨å­˜intçš„å°é¡¶å †
```

> å¯¹äºéœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒå™¨çš„æƒ…å†µï¼Œæ¶‰åŠä¸€äº›åˆå­¦æ—¶å®¹æ˜“çœ‹è¿·ç³Šçš„è¯­æ³•ï¼ˆé‡è½½å°æ‹¬å·è¿ç®—ç¬¦ / lambda è¡¨è¾¾å¼ï¼‰ï¼Œåœ¨æ­¤å°±ä¸å±•å¼€è®²äº†ã€‚å¦‚æœæƒ³è¦äº†è§£ï¼Œå¯ä»¥æŸ¥é˜… cppreference ä¸­çš„ä»£ç ç¤ºä¾‹ã€‚

#### å…¶ä»–

| ä½œç”¨            | ç”¨æ³•          | ç¤ºä¾‹                 |
| --------------- | ------------- | -------------------- |
| è¿›å †            | `.push(å…ƒç´ )` | `que.push(1);`       |
| å‡ºå †            | `.pop()`      | `que.pop();`         |
| å–å †é¡¶          | `.top()`      | `int a = que.top();` |
| æŸ¥çœ‹å¤§å° / åˆ¤ç©º | ç•¥            | ç•¥                   |

è¿›å‡ºé˜Ÿå¤æ‚åº¦ $O(\log n)$ï¼Œå–å †é¡¶ $O(1)$.

### 2.5.2 é€‚ç”¨æƒ…å½¢

æŒç»­ç»´æŠ¤å…ƒç´ çš„æœ‰åºæ€§ï¼šæ¯æ¬¡å‘é˜Ÿåˆ—æ’å…¥å¤§å°ä¸å®šçš„å…ƒç´ ï¼Œæˆ–è€…æ¯æ¬¡ä»é˜Ÿåˆ—é‡Œå–å‡ºå¤§å°æœ€å°/æœ€å¤§çš„å…ƒç´ ï¼Œå…ƒç´ æ•°é‡ $n$ï¼Œæ’å…¥æ“ä½œæ•°é‡ $k$.

- æ¯æ¬¡æ’å…¥åè¿›è¡Œå¿«é€Ÿæ’åºï¼š$k\cdot n\log n$
- ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤ï¼š$k\cdot\log n$

### 2.5.3 æ³¨æ„äº‹é¡¹

#### ä»…å †é¡¶å¯è¯»

åªå¯è®¿é—®å †é¡¶ï¼Œå…¶ä»–å…ƒç´ éƒ½æ— æ³•è¯»å–åˆ°ã€‚**ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š**

```cpp
cout << pque[1] << endl;
```

#### æ‰€æœ‰å…ƒç´ ä¸å¯å†™

å †ä¸­æ‰€æœ‰å…ƒç´ æ˜¯ä¸å¯ä¿®æ”¹çš„ã€‚**ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š**

```cpp
pque[1] = 2;
pque.top() = 1;
```

å¦‚æœä½ æ°å¥½è¦ä¿®æ”¹çš„æ˜¯å †é¡¶å…ƒç´ ï¼Œé‚£ä¹ˆæ˜¯å¯ä»¥å®Œæˆçš„ï¼š

```cpp
int tp = pque.top();
pque.pop();
pque.push(tp + 1);
```

## 2.6 é›†åˆ [set](https://zh.cppreference.com/w/cpp/container/set)

**`#include <set>`**

æä¾›å¯¹æ•°æ—¶é—´çš„æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„é›†åˆæ•°æ®ç»“æ„ã€‚åº•å±‚åŸç†æ˜¯çº¢é»‘æ ‘ã€‚

| é›†åˆä¸‰è¦ç´  | è§£é‡Š                           | set           | multiset      | unordered_set |
| ---------- | ------------------------------ | ------------- | ------------- | ------------- |
| ç¡®å®šæ€§     | ä¸€ä¸ªå…ƒç´ è¦ä¹ˆåœ¨é›†åˆä¸­ï¼Œè¦ä¹ˆä¸åœ¨ | âœ”             | âœ”             | âœ”             |
| äº’å¼‚æ€§     | ä¸€ä¸ªå…ƒç´ ä»…å¯ä»¥åœ¨é›†åˆä¸­å‡ºç°ä¸€æ¬¡ | âœ”             | âŒï¼ˆä»»æ„æ¬¡ï¼‰   | âœ”             |
| æ— åºæ€§     | é›†åˆä¸­çš„å…ƒç´ æ˜¯æ²¡æœ‰é¡ºåºçš„       | âŒï¼ˆä»å°åˆ°å¤§ï¼‰ | âŒï¼ˆä»å°åˆ°å¤§ï¼‰ | âœ”             |

### 2.6.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`set<ç±»å‹, æ¯”è¾ƒå™¨> st`**

- ç±»å‹ï¼šè¦å‚¨å­˜çš„æ•°æ®ç±»å‹
- æ¯”è¾ƒå™¨ï¼šæ¯”è¾ƒå¤§å°ä½¿ç”¨çš„æ¯”è¾ƒå™¨ï¼Œé»˜è®¤ä¸º `less<ç±»å‹>`ï¼Œå¯è‡ªå®šä¹‰

```cpp
set<int> st1;               // å‚¨å­˜intçš„é›†åˆï¼ˆä»å°åˆ°å¤§ï¼‰
set<int, greater<int>> st2; // å‚¨å­˜intçš„é›†åˆï¼ˆä»å¤§åˆ°å°ï¼‰
```

> å¯¹äºéœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒå™¨çš„æƒ…å†µï¼Œæ¶‰åŠä¸€äº›åˆå­¦æ—¶å®¹æ˜“çœ‹è¿·ç³Šçš„è¯­æ³•ï¼ˆé‡è½½å°æ‹¬å·è¿ç®—ç¬¦ / lambda è¡¨è¾¾å¼ï¼‰ï¼Œåœ¨æ­¤å°±ä¸å±•å¼€è®²äº†ã€‚

#### æŸ¥æ‰¾
```cpp
if (st.find(val) != st.end()){};
//è¿˜å¯ä»¥ç”¨countï¼ˆvalï¼‰è¿”å›æœ‰å‡ ä¸ªvalï¼Œæ ¹æ®äº’å¼‚æ€§ï¼Œåªå¯èƒ½æœ‰0ï¼Œ1ä¸¤ç§è¿”å›å€¼ï¼›
if(st.count(2)){};
```

#### éå†

å¯ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†ï¼š

```cpp
for (set<int>::iterator it = st.begin(); it != st.end(); ++it)
    cout << *it << endl;
```

åŸºäºèŒƒå›´çš„å¾ªç¯ï¼ˆC++ 11ï¼‰ï¼š

```cpp
for (auto &ele : st)
    cout << ele << endl;
```

#### å…¶ä»–

| ä½œç”¨                   | ç”¨æ³•            | ç¤ºä¾‹                    |
| ---------------------- | --------------- | ----------------------- |
| æ’å…¥å…ƒç´                | `.insert(å…ƒç´ )` | `st.insert(1);`         |
| åˆ é™¤å…ƒç´                | `.erase(å…ƒç´ )`  | `st.erase(2);`          |
| æŸ¥æ‰¾å…ƒç´                | `.find(å…ƒç´ )`   | `auto it = st.find(1);` |
| åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨       | `.count(å…ƒç´ )`  | `st.count(3);`          |
| æŸ¥çœ‹å¤§å° / æ¸…ç©º / åˆ¤ç©º | ç•¥              | ç•¥                      |

å¢åˆ æŸ¥æ—¶é—´å¤æ‚åº¦å‡ä¸º $O(\log n)$

### 2.6.2 é€‚ç”¨æƒ…å½¢

- å…ƒç´ å»é‡ï¼š$[1,1,3,2,4,4]\to[1,2,3,4]$
- ç»´æŠ¤é¡ºåºï¼š$[1,5,3,7,9]\to[1,3,5,7,9]$
- å…ƒç´ æ˜¯å¦å‡ºç°è¿‡ï¼šå…ƒç´ å¤§å° $[-10^{18},10^{18}]$ï¼Œå…ƒç´ æ•°é‡ $10^6$ï¼Œvis æ•°ç»„æ— æ³•å®ç°ï¼Œé€šè¿‡ set å¯ä»¥å®Œæˆã€‚

### 2.6.3 æ³¨æ„äº‹é¡¹

#### ä¸å­˜åœ¨ä¸‹æ ‡ç´¢å¼•

set è™½è¯´å¯éå†ï¼Œä½†ä»…å¯ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†ï¼Œå®ƒä¸å­˜åœ¨ä¸‹æ ‡è¿™ä¸€æ¦‚å¿µï¼Œæ— æ³•é€šè¿‡ä¸‹æ ‡è®¿é—®åˆ°æ•°æ®ã€‚**ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š**

```cpp
cout << st[0] << endl;
```

#### å…ƒç´ åªè¯»

set çš„è¿­ä»£å™¨å–åˆ°çš„å…ƒç´ æ˜¯åªè¯»çš„ï¼ˆå› ä¸ºæ˜¯ const è¿­ä»£å™¨ï¼‰ï¼Œä¸å¯ä¿®æ”¹å…¶å€¼ã€‚å¦‚æœè¦æ”¹ï¼Œéœ€è¦å…ˆ erase å† insert. **ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š**

```cpp
cout << *st.begin() << endl; // æ­£ç¡®ã€‚å¯è¯»ã€‚
*st.begin() = 1;             // é”™è¯¯ï¼ä¸å¯å†™ï¼
```

#### ä¸å¯ç”¨è¿­ä»£å™¨è®¡ç®—ä¸‹æ ‡

set çš„è¿­ä»£å™¨ä¸èƒ½åƒ vector ä¸€æ ·ç›¸å‡å¾—åˆ°ä¸‹æ ‡ã€‚**ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š**

```cpp
auto it = st.find(2);      // æ­£ç¡®ï¼Œè¿”å›2æ‰€åœ¨ä½ç½®çš„è¿­ä»£å™¨ã€‚
int idx = it - st.begin(); // é”™è¯¯ï¼ä¸å¯ç›¸å‡å¾—åˆ°ä¸‹æ ‡ã€‚
```

## 2.7 æ˜ å°„ [map](https://zh.cppreference.com/w/cpp/container/map)

**`#include <map>`**

æä¾›å¯¹æ•°æ—¶é—´çš„æœ‰åºé”®å€¼å¯¹ç»“æ„ã€‚åº•å±‚åŸç†æ˜¯çº¢é»‘æ ‘ã€‚

æ˜ å°„ï¼š
$$
\begin{matrix}
1&\to&2\\
2&\to&2\\
3&\to&1\\
4&\to&5\\
&\vdots
\end{matrix}
$$

| æ€§è´¨   | è§£é‡Š                         | map           | multimap      | unordered_map |
| ------ | ---------------------------- | ------------- | ------------- | ------------- |
| äº’å¼‚æ€§ | ä¸€ä¸ªé”®ä»…å¯ä»¥åœ¨æ˜ å°„ä¸­å‡ºç°ä¸€æ¬¡ | âœ”             | âŒï¼ˆä»»æ„æ¬¡ï¼‰   | âœ”             |
| æ— åºæ€§ | é”®æ˜¯æ²¡æœ‰é¡ºåºçš„               | âŒï¼ˆä»å°åˆ°å¤§ï¼‰ | âŒï¼ˆä»å°åˆ°å¤§ï¼‰ | âœ”             |

### 2.7.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`map<é”®ç±»å‹, å€¼ç±»å‹, æ¯”è¾ƒå™¨> mp`**

- é”®ç±»å‹ï¼šè¦å‚¨å­˜é”®çš„æ•°æ®ç±»å‹
- å€¼ç±»å‹ï¼šè¦å‚¨å­˜å€¼çš„æ•°æ®ç±»å‹
- æ¯”è¾ƒå™¨ï¼šé”®æ¯”è¾ƒå¤§å°ä½¿ç”¨çš„æ¯”è¾ƒå™¨ï¼Œé»˜è®¤ä¸º `less<ç±»å‹>`ï¼Œå¯è‡ªå®šä¹‰

```cpp
map<int, int> mp1;               // int->int çš„æ˜ å°„ï¼ˆé”®ä»å°åˆ°å¤§ï¼‰
map<int, int, greater<int>> st2; // int->int çš„æ˜ å°„ï¼ˆé”®ä»å¤§åˆ°å°ï¼‰
```

> å¯¹äºéœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒå™¨çš„æƒ…å†µï¼Œæ¶‰åŠä¸€äº›åˆå­¦æ—¶å®¹æ˜“çœ‹è¿·ç³Šçš„è¯­æ³•ï¼ˆé‡è½½å°æ‹¬å·è¿ç®—ç¬¦ / lambda è¡¨è¾¾å¼ï¼‰ï¼Œåœ¨æ­¤å°±ä¸å±•å¼€è®²äº†ã€‚

#### éå†

å¯ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†ï¼š

```cpp
for (map<int, int>::iterator it = mp.begin(); it != mp.end(); ++it)
    cout << it->first << ' ' << it->second << endl;
```

åŸºäºèŒƒå›´çš„å¾ªç¯ï¼ˆC++ 11ï¼‰ï¼š

```cpp
for (auto &pr : mp)
    cout << pr.first << ' ' << pr.second << endl;
```

ç»“æ„åŒ–ç»‘å®š + åŸºäºèŒƒå›´çš„å¾ªç¯ï¼ˆC++17ï¼‰ï¼š

```cpp
for (auto &[key, val] : mp)
    cout << key << ' ' << val << endl;
```

#### å…¶ä»–

| ä½œç”¨                   | ç”¨æ³•           | ç¤ºä¾‹                    |
| ---------------------- | -------------- | ----------------------- |
| å¢ / æ”¹ / æŸ¥å…ƒç´        | ä¸­æ‹¬å·         | `mp[1] = 2;`            |
| æŸ¥å…ƒç´ ï¼ˆè¿”å›è¿­ä»£å™¨ï¼‰   | `.find(å…ƒç´ )`  | `auto it = mp.find(1);` |
| åˆ é™¤å…ƒç´                | `.erase(å…ƒç´ )` | `mp.erase(2);`          |
| åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨       | `.count(å…ƒç´ )` | `mp.count(3);`          |
| æŸ¥çœ‹å¤§å° / æ¸…ç©º / åˆ¤ç©º | ç•¥             | ç•¥                      |

å¢åˆ æ”¹æŸ¥æ—¶é—´å¤æ‚åº¦å‡ä¸º $O(\log n)$

### 2.7.2 é€‚ç”¨æƒ…å½¢

éœ€è¦ç»´æŠ¤æ˜ å°„çš„åœºæ™¯å¯ä»¥ä½¿ç”¨ï¼šè¾“å…¥è‹¥å¹²å­—ç¬¦ä¸²ï¼Œç»Ÿè®¡æ¯ç§å­—ç¬¦ä¸²çš„å‡ºç°æ¬¡æ•°ã€‚(`map<string, int> mp`)

### 2.7.3 æ³¨æ„äº‹é¡¹

#### ä¸­æ‹¬å·è®¿é—®æ—¶é»˜è®¤å€¼

å¦‚æœä½¿ç”¨ä¸­æ‹¬å·è®¿é—® map æ—¶å¯¹åº”çš„é”®ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä¼šæ–°å¢è¿™ä¸ªé”®ï¼Œå¹¶ä¸”å€¼ä¸ºé»˜è®¤å€¼ï¼Œå› æ­¤ä¸­æ‹¬å·ä¼šå½±å“é”®çš„å­˜åœ¨æ€§ã€‚

```cpp
map<char, int> mp;
cout << mp.count('a') << endl; // 0
mp['a'];                       // å³ä½¿ä»€ä¹ˆéƒ½æ²¡åšï¼Œæ­¤æ—¶mp['a']=0å·²ç»æ’å…¥äº†
cout << mp.count('a') << endl; // 1
cout << mp['a'] << endl;       // 0
```

#### ä¸å¯ç”¨è¿­ä»£å™¨è®¡ç®—ä¸‹æ ‡

map çš„è¿­ä»£å™¨ä¸èƒ½åƒ vector ä¸€æ ·ç›¸å‡å¾—åˆ°ä¸‹æ ‡ã€‚**ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š**

```cpp
auto it = mp.find('a');      // æ­£ç¡®ï¼Œè¿”å›2æ‰€åœ¨ä½ç½®çš„è¿­ä»£å™¨ã€‚
int idx = it - mp.begin();   // é”™è¯¯ï¼ä¸å¯ç›¸å‡å¾—åˆ°ä¸‹æ ‡ã€‚
```

## 2.8 å­—ç¬¦ä¸² [string](https://zh.cppreference.com/w/cpp/string)

**`#include <string>`**

é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å‚¨å­˜å­—ç¬¦ä¸²çš„ã€‚

### 2.8.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

æ„é€ å‡½æ•°ï¼š`string(é•¿åº¦, åˆå€¼)`

```cpp
string s1;           // æ„é€ å­—ç¬¦ä¸²ï¼Œä¸ºç©º
string s2 = "awa!";  // æ„é€ å­—ç¬¦ä¸²ï¼Œå¹¶èµ‹å€¼awa!
string s3(10, '6');  // æ„é€ å­—ç¬¦ä¸²ï¼Œé€šè¿‡æ„é€ å‡½æ•°æ„é€ ä¸º6666666666
```

#### è¾“å…¥è¾“å‡º

C++

```cpp
string s;
cin >> s;
cout << s;
```

C

```cpp
string s;
char buf[100];
scanf("%s", &buf);
s = buf;
printf("%s", s.c_str());
```

#### å…¶ä»–

| ä½œç”¨                   | ç”¨æ³•                          | ç¤ºä¾‹                            |
| ---------------------- | ----------------------------- | ------------------------------- |
| ä¿®æ”¹ã€æŸ¥è¯¢æŒ‡å®šä¸‹æ ‡å­—ç¬¦ | `[]`                          | `s[1] = 'a';`                   |
| æ˜¯å¦ç›¸åŒ               | `==`                          | `if (s1 == s2) ...`             |
| å­—ç¬¦ä¸²è¿æ¥             | `+`                           | `string s = s1 + s2;`           |
| å°¾æ¥å­—ç¬¦ä¸²             | `+=`                          | `s += "awa";`                   |
| å–å­ä¸²                 | `.substr(èµ·å§‹ä¸‹æ ‡, å­ä¸²é•¿åº¦)` | `string sub = s.substr(2, 10);` |
| æŸ¥æ‰¾å­—ç¬¦ä¸²             | `.find(å­—ç¬¦ä¸², èµ·å§‹ä¸‹æ ‡)`     | `int pos = s.find("awa");`      |


#### æ•°å€¼ä¸å­—ç¬¦ä¸²äº’è½¬ï¼ˆC++11ï¼‰

| æº                                             | ç›®çš„        | å‡½æ•°        |
| ---------------------------------------------- | ----------- | ----------- |
| int / long long / float / double / long double | string      | to_string() |
| string                                         | int         | stoi()      |
| string                                         | long long   | stoll()     |
| string                                         | float       | stof()      |
| string                                         | double      | stod()      |
| string                                         | long double | stold()     |

### 2.8.2 é€‚ç”¨æƒ…å½¢

éå¸¸å¥½ç”¨ï¼~~å»ºè®®ç›´æ¥æŠŠå­—ç¬¦æ•°ç»„æ‰”äº†ï¼Œèµ¶å¿«æŠ•å…¥ string çš„æ€€æŠ±ã€‚~~

### 2.8.3 æ³¨æ„äº‹é¡¹

#### å°¾æ¥å­—ç¬¦ä¸²ä¸€å®šè¦ç”¨ `+=`

string çš„ += è¿ç®—ç¬¦ï¼Œå°†ä¼šåœ¨åŸå­—ç¬¦ä¸²åŸåœ°å°¾æ¥å­—ç¬¦ä¸²ã€‚è€Œ + äº†å† = èµ‹å€¼ï¼Œä¼šå…ˆç”Ÿæˆä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œåœ¨å¤åˆ¶ç»™ string.

é€šå¸¸å­—ç¬¦ä¸²é•¿åº¦å¯ä»¥å¾ˆé•¿ï¼Œå¦‚æœä½¿ç”¨ + å­—ç¬¦ä¸²å¾ˆå®¹æ˜“å°± TLE äº†ã€‚

```cpp
// ä¼˜åŒ–å‰: 15139ms
string s;
for (int i = 0; i < 5e5; i++)
    s = s + "a";

// ä¼˜åŒ–å: < 1ms (è®¡æ—¶å™¨æ˜¾ç¤º0)
string s;
for (int i = 0; i < 5e5; i++)
    s += "a";
```

#### `.substr()` æ–¹æ³•çš„å¥‡è‘©å‚æ•°

ä¸€å®šè¦æ³¨æ„ï¼ŒC++ string çš„å–å­ä¸²çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯**å­ä¸²èµ·ç‚¹ä¸‹æ ‡**ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯**å­ä¸²é•¿åº¦**ã€‚

ç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯å­ä¸²ç»ˆç‚¹ï¼ä¸æ˜¯å­ä¸²ç»ˆç‚¹ï¼è¦ä¸ java ç­‰å…¶ä»–è¯­è¨€åŒºåˆ†å¼€æ¥ã€‚

#### `.find()` æ–¹æ³•çš„å¤æ‚åº¦

è¯¥æ–¹æ³•å®ç°ä¸ºæš´åŠ›å®ç°ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$.

~~ä¸è¦å¹»æƒ³ STL å†…ç½®äº†ä¸ª $O(n)$ çš„ KMP ç®—æ³•~~

## 2.9 äºŒå…ƒç»„ [pair](https://zh.cppreference.com/w/cpp/utility/pair)

**`#include <utility>`**

é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å‚¨å­˜äºŒå…ƒç»„çš„ã€‚

### 2.9.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`pair<ç¬¬ä¸€ä¸ªå€¼ç±»å‹, ç¬¬äºŒä¸ªå€¼ç±»å‹> pr`**

- ç¬¬ä¸€ä¸ªå€¼ç±»å‹ï¼šè¦å‚¨å­˜çš„ç¬¬ä¸€ä¸ªå€¼çš„æ•°æ®ç±»å‹
- ç¬¬äºŒä¸ªå€¼ç±»å‹ï¼šè¦å‚¨å­˜çš„ç¬¬äºŒä¸ªå€¼çš„æ•°æ®ç±»å‹

```cpp
pair<int, int> p1;
pair<int, long long> p2;
pair<char, int> p3;
// ...
```

#### èµ‹å€¼

è€å¼

```cpp
pair<int, char> pr = make_pair(1, 'a');
```

åˆ—è¡¨æ„é€  C++11

```cpp
pair<int, char> pr = {1, 'a'};
```

#### å–å€¼

ç›´æ¥å–å€¼

- å–ç¬¬ä¸€ä¸ªå€¼ï¼š`.first`
- å–ç¬¬äºŒä¸ªå€¼ï¼š`.second`

```cpp
pair<int, char> pr = {1, 'a'};
int awa = pr.first;
char bwb = pr.second;
```

ç»“æ„åŒ–ç»‘å®š C++17

```cpp
pair<int, char> pr = {1, 'a'};
auto &[awa, bwb] = pr;
```

#### åˆ¤åŒ

ç›´æ¥ç”¨ `==` è¿ç®—ç¬¦

```cpp
pair<int, int> p1 = {1, 2};
pair<int, int> p2 = {1, 3};
if (p1 == p2) { ... } // false
```

### 2.9.2 é€‚ç”¨åœºæ™¯

æ‰€æœ‰éœ€è¦äºŒå…ƒç»„çš„åœºæ™¯å‡å¯ä½¿ç”¨ï¼Œæ•ˆç‡å’Œè‡ªå·±å®šä¹‰ç»“æ„ä½“å·®ä¸å¤šã€‚

### 2.9.3 æ³¨æ„äº‹é¡¹

æ— 



# 3 è¿­ä»£å™¨ç®€ä»‹

## 3.1 è¿­ä»£å™¨æ˜¯ä»€ä¹ˆï¼Ÿ

ä¸ææŠ½è±¡ï¼Œç›´æ¥ä¸¾ä¾‹ã€‚

å¯¹äºä¸€ä¸ª vectorï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹æ ‡éå†ï¼š

```cpp
for (int i = 0; i < a.size(); i++)
    cout << a[i] << endl;
```

æˆ‘ä»¬åŒæ—¶ä¹Ÿå¯ä»¥ç”¨è¿­ä»£å™¨æ¥éå†ï¼š

```cpp
for (vector<int>::iterator it = a.begin(); it != a.end(); ++it)
    cout << *it << endl;
```

- `a.begin()` æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘çš„æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ 
- `a.end()` æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘çš„æ˜¯æœ€åä¸€ä¸ªå…ƒç´ **å†åé¢ä¸€ä½**
- ä¸Šè¿°è¿­ä»£å™¨å…·æœ‰è‡ªå¢è¿ç®—ç¬¦ï¼Œè‡ªå¢åˆ™è¿­ä»£å™¨å‘ä¸‹ä¸€ä¸ªå…ƒç´ ç§»åŠ¨
- è¿­ä»£å™¨ä¸æŒ‡é’ˆç›¸ä¼¼ï¼Œå¦‚æœå¯¹å®ƒä½¿ç”¨è§£å¼•ç”¨è¿ç®—ç¬¦ï¼Œå³ `*it`ï¼Œå°±èƒ½å–åˆ°å¯¹åº”å€¼äº†

## 3.2 ä¸ºä½•éœ€è¦è¿­ä»£å™¨ï¼Ÿ

å¾ˆå¤šæ•°æ®ç»“æ„å¹¶ä¸æ˜¯çº¿æ€§çš„ï¼ˆä¾‹å¦‚çº¢é»‘æ ‘ï¼‰ï¼Œå¯¹äºéçº¿æ€§æ•°æ®ç»“æ„ï¼Œä¸‹æ ‡æ˜¯æ— æ„ä¹‰çš„ã€‚æ— æ³•ä½¿ç”¨ä¸‹æ ‡æ¥éå†æ•´ä¸ªæ•°æ®ç»“æ„ã€‚

è¿­ä»£å™¨çš„ä½œç”¨å°±æ˜¯å®šä¹‰æŸä¸ªæ•°æ®ç»“æ„çš„éå†æ–¹å¼ï¼Œé€šè¿‡è¿­ä»£å™¨çš„å¢å‡ï¼Œä»£è¡¨éå†åˆ°çš„ä½ç½®ï¼Œé€šè¿‡è¿­ä»£å™¨ä¾¿èƒ½æˆåŠŸéå†éçº¿æ€§ç»“æ„äº†ã€‚

ä¾‹å¦‚ï¼Œset çš„å®ç°æ˜¯çº¢é»‘æ ‘ï¼Œæˆ‘ä»¬æ˜¯æ²¡æ³•ç”¨ä¸‹æ ‡æ¥è®¿é—®å…ƒç´ çš„ã€‚ä½†æ˜¯é€šè¿‡è¿­ä»£å™¨ï¼Œæˆ‘ä»¬å°±èƒ½éå† set ä¸­çš„å…ƒç´ äº†ï¼š

```cpp
for (set<int>::iterator it = st.begin(); it != st.end(); ++it)
    cout << *it << endl;
```

## 3.3 è¿­ä»£å™¨ç”¨æ³•

å¯¹äº vector å®¹å™¨ï¼Œå®ƒçš„è¿­ä»£å™¨åŠŸèƒ½æ¯”è¾ƒå®Œæ•´ï¼Œä»¥å®ƒä¸¾ä¾‹ï¼š

- `.begin()`ï¼šå¤´è¿­ä»£å™¨
- `.end()`ï¼šå°¾è¿­ä»£å™¨
- `.rbegin()`ï¼šåå‘å¤´è¿­ä»£å™¨
- `.rend()`ï¼šåå‘å°¾è¿­ä»£å™¨
- è¿­ä»£å™¨ `+` æ•´å‹ï¼šå°†è¿­ä»£å™¨å‘åç§»åŠ¨
- è¿­ä»£å™¨ `-` æ•´å‹ï¼šå°†è¿­ä»£å™¨å‘å‰ç§»åŠ¨
- è¿­ä»£å™¨ `++`ï¼šå°†è¿­ä»£å™¨å‘åç§»åŠ¨ 1 ä½
- è¿­ä»£å™¨ `--`ï¼šå°†è¿­ä»£å™¨å‘å‰ç§»åŠ¨ 1 ä½
- è¿­ä»£å™¨ `-` è¿­ä»£å™¨ï¼šä¸¤ä¸ªè¿­ä»£å™¨çš„è·ç¦»
- `prev(it)`ï¼šè¿”å› it çš„å‰ä¸€ä¸ªè¿­ä»£å™¨
- `next(it)`ï¼šè¿”å› it çš„åä¸€ä¸ªè¿­ä»£å™¨

å¯¹äºå…¶ä»–å®¹å™¨ï¼Œç”±äºå…¶ç»“æ„ç‰¹æ€§ï¼Œä¸Šé¢çš„åŠŸèƒ½ä¸ä¸€å®šéƒ½æœ‰ï¼ˆä¾‹å¦‚ **set** çš„è¿­ä»£å™¨æ˜¯ä¸èƒ½ç›¸å‡æ±‚è·ç¦»çš„ï¼‰

## 3.4 å¸¸è§é—®é¢˜

**`.end()` å’Œ `.rend()` æŒ‡å‘çš„ä½ç½®æ˜¯æ— æ„ä¹‰çš„å€¼**

å¯¹äºä¸€ä¸ªé•¿åº¦ä¸º 10 çš„æ•°ç»„ï¼š`for (int i = 0; i < 10; i++)`ï¼Œç¬¬ 10 ä½æ˜¯ä¸å¯è®¿é—®çš„

å¯¹äºä¸€ä¸ªé•¿åº¦ä¸º 10 çš„å®¹å™¨ï¼š`for (auto it = a.begin(); it != a.end(); ++it)`ï¼Œ.end æ˜¯ä¸å¯è®¿é—®çš„

**ä¸åŒå®¹å™¨çš„è¿­ä»£å™¨åŠŸèƒ½å¯èƒ½ä¸ä¸€æ ·**

è¿­ä»£å™¨ç»†åŒ–çš„è¯æœ‰æ­£å‘ã€åå‘ã€åŒå‘ï¼Œæ¯ä¸ªå®¹å™¨çš„è¿­ä»£å™¨æ”¯æŒçš„è¿ç®—ç¬¦ä¹Ÿå¯èƒ½ä¸åŒï¼Œå› æ­¤ä¸åŒå®¹å™¨çš„è¿­ä»£å™¨ç»†èŠ‚å¾ˆæœ‰å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚

**åˆ é™¤æ“ä½œæ—¶éœ€è¦è­¦æƒ•**

ä¸ºä»€ä¹ˆ 3 æ²¡åˆ æ‰ï¼Ÿ

```cpp
vector<int> a{1, 2, 3, 4};
for (auto it = a.begin(); it != a.end(); ++it)
    if (*it == 2 || *it == 3)
        a.erase(it);
// a = [1, 3, 4]
```

ä¸ºå•¥ RE äº†ï¼Ÿ

```cpp
vector<int> a{1, 2, 3, 4};
for (auto it = a.begin(); it != a.end(); ++it)
    if (*it == 4)
        a.erase(it);
    //åˆ äº†4ï¼Œå‰ç§»ä¸€ä½ï¼Œit = a.end(),ç„¶åè‡ªå¢åè¶Šç•Œ
```

<center><b>å»ºè®®ï¼šå¦‚æ— å¿…è¦ï¼Œåˆ«ç”¨è¿­ä»£å™¨æ“ä½œå®¹å™¨ã€‚ï¼ˆéå†ä¸è®¿é—®æ²¡å…³ç³»ï¼‰</b></center>



# 4 å¸¸ç”¨ç®—æ³•

## 4.1 å†…å®¹æ€»è§ˆ

æ‰“å‹¾çš„æ˜¯æœ¬æ¬¡å°†ä¼šè¯¦ç»†è®²è§£çš„ï¼Œå…¶ä»–çš„æ˜¯ç®—æ³•ç«èµ›ä¸­å»ºè®®å­¦ä¹ çš„ï¼Œä¸åœ¨ä¸‹è¡¨åˆ—å‡ºçš„åœ¨æ¯”èµ›ä¸­åŸºæœ¬ç”¨ä¸åˆ°ã€‚

ï¼ˆå¾ˆå¤šå‡½æ•°çš„åŠŸèƒ½å¾ˆç®€å•ï¼Œè‡ªå·±éƒ½èƒ½å¿«é€Ÿå†™å‡ºæ¥ï¼Œä½†æ˜¯ä½¿ç”¨å‡½æ•°å¯ä»¥è®©ä»£ç å¯è¯»æ€§å˜å¾—æ›´é«˜ï¼Œè¿™åœ¨æ¯”èµ›ä¸­æ˜¯è‡³å…³ç´§è¦çš„ï¼‰

- ç®—æ³•åº“ Algorithm

  - [ ] `count()`
  - [ ] `find()`
  - [ ] `fill()`
  - [x] [`swap()`](https://zh.cppreference.com/w/cpp/algorithm/swap)
  - [x] [`reverse()`](https://zh.cppreference.com/w/cpp/algorithm/reverse)
  - [ ] `shuffle()` C++11
  - [x] [`unique()`](https://zh.cppreference.com/w/cpp/algorithm/unique)
  - [x] [`sort()`](https://zh.cppreference.com/w/cpp/algorithm/sort)
  - [x] [`lower_bound()`](https://zh.cppreference.com/w/cpp/algorithm/lower_bound) / [`upper_bound()`](https://zh.cppreference.com/w/cpp/algorithm/upper_bound)
  - [x] [`max()`](https://zh.cppreference.com/w/cpp/algorithm/max) / [`min()`](https://zh.cppreference.com/w/cpp/algorithm/min)
  - [ ] `max_element()` / `min_element()`
  - [ ] `prev_permutation()` / `next_permutation()`
- æ•°å­¦å‡½æ•° cmath
  - [x] [`abs()`](https://zh.cppreference.com/w/cpp/numeric/math/fabs)
  - [x] [`exp()`](https://zh.cppreference.com/w/cpp/numeric/math/exp)
  - [x] [`log()`](https://zh.cppreference.com/w/cpp/numeric/math/log) / `log10()` / `log2()`
  - [x] [`pow()`](https://zh.cppreference.com/w/cpp/numeric/math/pow)
  - [x] [`sqrt()`](https://zh.cppreference.com/w/cpp/numeric/math/sqrt)
  - [ ] `sin()` / `cos()` / `tan()`
  - [ ] `asin()` / `acos()` / `atan()`
  - [ ] `sinh()` / `cosh()` / `tanh()`
  - [ ] `asinh()` / `acosh()` / `atanh()` C++11
  - [x] [`ceil()`](https://zh.cppreference.com/w/cpp/numeric/math/ceil) / [`floor()`](https://zh.cppreference.com/w/cpp/numeric/math/floor)
  - [x] [`round()`](https://zh.cppreference.com/w/cpp/numeric/math/round) C++11
- æ•°å€¼ç®—æ³• numeric
  - [ ] `iota()` C++11
  - [ ] `accumulate()`
  - [x] [`gcd()`](https://zh.cppreference.com/w/cpp/numeric/gcd) C++17
  - [x] [`lcm()`](https://zh.cppreference.com/w/cpp/numeric/lcm) C++17
- ä¼ªéšæœºæ•°ç”Ÿæˆ random
  - [ ] `mt19937`
  - [ ] `random_device()`

## 4.2 `swap()`

äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼

**ç”¨æ³•ç¤ºä¾‹**

```cpp
template< class T >
void swap( T& a, T& b );
```

```cpp
int a = 0, b = 1;
swap(a, b);
// now a = 1, b = 0

int arr[10] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};
swap(arr[4], arr[6]);
// now arr = {0, 1, 2, 3, 6, 5, 4, 7, 8, 9}
```

**æ³¨æ„äº‹é¡¹**

è¿™ä¸ª swap å‚æ•°æ˜¯å¼•ç”¨çš„ï¼Œä¸éœ€è¦åƒ C è¯­è¨€ä¸€æ ·å–åœ°å€ã€‚

## 4.3 `sort()`

ä½¿ç”¨å¿«é€Ÿæ’åºç»™ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡æ’åº

**ç”¨æ³•ç¤ºä¾‹**

```cpp
template< class RandomIt, class Compare >
void sort( RandomIt first, RandomIt last, Compare comp );
```

é»˜è®¤æ’åºä»å°åˆ°å¤§

```cpp
vector<int> arr{1, 9, 1, 9, 8, 1, 0};
sort(arr.begin(), arr.end());
// arr = [0, 1, 1, 1, 8, 9, 9]
```

å¦‚æœè¦ä»å¤§åˆ°å°ï¼Œåˆ™éœ€è¦ä¼ æ¯”è¾ƒå™¨è¿›å»ã€‚

```cpp
vector<int> arr{1, 9, 1, 9, 8, 1, 0};
sort(arr.begin(), arr.end(), greater<int>());
// arr = [9, 9, 8, 1, 1, 1, 0]
```

å¦‚æœéœ€è¦å®Œæˆç‰¹æ®Šæ¯”è¾ƒï¼Œåˆ™éœ€è¦æ‰‹å†™æ¯”è¾ƒå™¨ã€‚

æ¯”è¾ƒå™¨å‡½æ•°è¿”å›å€¼æ˜¯ bool ç±»å‹ï¼Œä¼ å‚æ˜¯éœ€è¦æ¯”è¾ƒçš„ä¸¤ä¸ªå…ƒç´ ã€‚è®°æˆ‘ä»¬å®šä¹‰çš„è¯¥æ¯”è¾ƒæ“ä½œä¸º $\star$ï¼š

- è‹¥ $a\star b$ï¼Œåˆ™æ¯”è¾ƒå™¨å‡½æ•°åº”å½“è¿”å› `true`
- è‹¥ $a\not\star b$ï¼Œåˆ™æ¯”è¾ƒå™¨å‡½æ•°åº”å½“è¿”å› `false`

**æ³¨æ„ï¼š**å¦‚æœ $a=b$ï¼Œæ¯”è¾ƒå™¨å‡½æ•°å¿…é¡»è¿”å› `false`

**ä¾‹ï¼š** è¦æ±‚å¯¹å¤šä¸ªäºŒå…ƒç»„è¿›è¡Œå¦‚ä¸‹æ’åºï¼šæŒ‰ç…§ç¬¬äºŒä¸ªæ•°ä»å°åˆ°å¤§æ’ï¼›å¦‚æœç¬¬äºŒä¸ªæ•°ç›¸åŒï¼Œåˆ™æŒ‰ç…§ç¬¬ä¸€ä¸ªæ•°ä»å¤§åˆ°å°æ’ï¼›
```cpp
bool cmp(pair<int, int> a, pair<int, int> b)
{
    if (a.second != b.second)
        return a.second < b.second;
    return a.first > b.first;
}

int main()
{
    vector<pair<int, int>> arr{{1, 9}, {2, 9}, {8, 1}, {0, 0}};
	sort(arr.begin(), arr.end(), cmp);
    // arr = [(0, 0), (8, 1), (2, 9), (1, 9)]
}
```

## 4.4 `lower_bound()` / `upper_bound()`

åœ¨**å·²å‡åºæ’åº**çš„å…ƒç´ ä¸­ï¼Œåº”ç”¨äºŒåˆ†æŸ¥æ‰¾æ£€ç´¢æŒ‡å®šå…ƒç´ ï¼Œè¿”å›å¯¹åº”å…ƒç´ è¿­ä»£å™¨ä½ç½®ã€‚**æ‰¾ä¸åˆ°åˆ™è¿”å›å°¾è¿­ä»£å™¨ã€‚**

- `lower_bound()`: å¯»æ‰¾ $\geq x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®
- `upper_bound()`: å¯»æ‰¾ $>x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®

æ€ä¹ˆæ‰¾ $\leq x$ / $< x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ å‘¢ï¼Ÿ

- $>x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰ä¾¿æ˜¯ $\leq x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
- $\geq x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰ä¾¿æ˜¯ $<x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ 

è¿”å›çš„æ˜¯è¿­ä»£å™¨ï¼Œå¦‚ä½•è½¬æˆä¸‹æ ‡ç´¢å¼•å‘¢ï¼Ÿå‡å»å¤´è¿­ä»£å™¨å³å¯ã€‚

**ç¤ºä¾‹**

```cpp
template< class ForwardIt, class T >
ForwardIt lower_bound( ForwardIt first, ForwardIt last, const T& value );
```

```cpp
vector<int> arr{0, 1, 1, 1, 8, 9, 9};
vector<int>::iterator it = lower_bound(arr.begin(), arr.end(), 7);
int idx = it - arr.begin();
// idx = 4
```

æˆ‘ä»¬é€šå¸¸å†™æˆä¸€è¡Œï¼š

```cpp
vector<int> arr{0, 1, 1, 1, 8, 9, 9};
idx = lower_bound(arr.begin(), arr.end(), 7) - arr.begin(); // 4
idx = lower_bound(arr.begin(), arr.end(), 8) - arr.begin(); // 4
idx = upper_bound(arr.begin(), arr.end(), 7) - arr.begin(); // 4
idx = upper_bound(arr.begin(), arr.end(), 8) - arr.begin(); // 5
```

## 4.5 `reverse()`

åè½¬ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ é¡ºåº

**ç”¨æ³•ç¤ºä¾‹**

```cpp
template< class BidirIt >
void reverse( BidirIt first, BidirIt last );
```

```cpp
vector<int> arr(10);
iota(arr.begin(), arr.end(), 1);
// 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
reverse(arr.begin(), arr.end());
// 10, 9, 8, 7, 6, 5, 4, 3, 2, 1
```

## 4.6 `max()` / `min()`

è¿”å›æœ€å¤§å€¼ / æœ€å°å€¼çš„**æ•°å€¼**

**ç”¨æ³•ç¤ºä¾‹**

```cpp
int mx = max(1, 2); // 2
int mn = min(1, 2); // 1
```

åœ¨ C++11 ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨åˆ—è¡¨æ„é€ è¯­æ³•ä¼ å…¥ä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™æ ·å°±èƒ½ä¸€æ¬¡æ€§ç»™å¤šä¸ªå…ƒç´ æ‰¾æœ€å¤§å€¼è€Œä¸ç”¨å¥—å¨ƒäº†ï¼š

```cpp
// Before C++11
int mx = max(max(1, 2), max(3, 4)); // 4
int mn = min(min(1, 2), min(3, 4)); // 1

// After C++11
int mx = max({1, 2, 3, 4}); // 4
int mn = min({1, 2, 3, 4}); // 1
```

## 4.7 `unique()`

æ¶ˆé™¤æ•°ç»„çš„é‡å¤**ç›¸é‚»**å…ƒç´ ï¼Œæ•°ç»„é•¿åº¦ä¸å˜ï¼Œä½†æ˜¯æœ‰æ•ˆæ•°æ®ç¼©çŸ­ï¼Œè¿”å›çš„æ˜¯æœ‰æ•ˆæ•°æ®ä½ç½®çš„ç»“å°¾è¿­ä»£å™¨ã€‚

ä¾‹å¦‚ï¼š$[1,1,4,5,1,4]\to[1,4,5,1,4,\underline?]$ï¼Œä¸‹åˆ’çº¿ä½ç½®ä¸ºè¿”å›çš„è¿­ä»£å™¨æŒ‡å‘ã€‚

```cpp
template< class ForwardIt >
ForwardIt unique( ForwardIt first, ForwardIt last );
```

**ç”¨æ³•ç¤ºä¾‹**

å•ç‹¬ä½¿ç”¨ unique å¹¶ä¸èƒ½è¾¾æˆå»é‡æ•ˆæœï¼Œå› ä¸ºå®ƒåªæ¶ˆé™¤**ç›¸é‚»**çš„é‡å¤å…ƒç´ ã€‚ä½†æ˜¯å¦‚æœåºåˆ—æœ‰åºï¼Œé‚£ä¹ˆå®ƒå°±èƒ½å»é‡äº†ã€‚

ä½†æ˜¯å®ƒå»é‡åï¼Œåºåˆ—å°¾éƒ¨ä¼šäº§ç”Ÿä¸€äº›æ— æ•ˆæ•°æ®ï¼š$[1,1,2,4,4,4,5]\to[1,2,4,5,\underline?,?,?]$ï¼Œä¸ºäº†åˆ æ‰è¿™äº›æ— æ•ˆæ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦ç»“åˆ erase.

æœ€ç»ˆï¼Œç»™ vector å»é‡çš„å†™æ³•ä¾¿æ˜¯ï¼š

```cpp
vector<int> arr{1, 2, 1, 4, 5, 4, 4};
sort(arr.begin(), arr.end());
// sort å  1 1 2 4 4 4 5
//uniqueå  1 2 4 5 æŒ‡å‘->4 4 5 
arr.erase(unique(arr.begin(), arr.end()), arr.end());
//uniqueè¿”å›çš„æ˜¯æŒ‡å‘å»é‡åå®¹å™¨ä¸­ä¸é‡å¤åºåˆ—æœ«å°¾çš„ä¸‹ä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨ã€‚
```

## 4.8 æ•°å­¦å‡½æ•°

æ‰€æœ‰å‡½æ•°å‚æ•°å‡æ”¯æŒ `int` / `long long` / `float` / `double` / `long double`

| å…¬å¼                    | ç¤ºä¾‹         |
| ----------------------- | ------------ |
| $f(x)=\lvert x\rvert$   | `abs(-1.0)`  |
| $f(x)=e^x$              | `exp(2)`     |
| $f(x)=\ln x$            | `log(3)`     |
| $f(x,y)=x^y$            | `pow(2, 3)`  |
| $f(x)=\sqrt x$          | `sqrt(2)`    |
| $f(x)=\lceil x\rceil$   | `ceil(2.1)`  |
| $f(x)=\lfloor x\rfloor$ | `floor(2.1)` |
| $f(x)=\left<x\right>$   | `round(2.1)` |

**æ³¨æ„äº‹é¡¹**
## æµ®ç‚¹æ•°è¯¯å·®é—®é¢˜

åœ¨ã€Šç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ã€‹ç¬¬äºŒç« ä¾‹é¢˜2-1ä¸­æåˆ°ï¼Œæµ®ç‚¹æ•°è¿ç®—å­˜åœ¨ç²¾åº¦è¯¯å·®ã€‚ä¾‹å¦‚ï¼Œæ•´æ•° 1 å¯èƒ½å› ä¸ºè¯¯å·®å˜æˆ 0.999999999ï¼Œæ­¤æ—¶ `floor` çš„ç»“æœä¼šæ˜¯ 0 è€Œéé¢„æœŸçš„ 1ã€‚ä¸ºé¿å…è¿™ç±»é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å››èˆäº”å…¥ï¼š`floor(sqrt(x) + 0.5)`ã€‚

**æ›´é‡è¦çš„æ˜¯**ï¼šå½“æ“ä½œæ•°éƒ½æ˜¯æ•´å‹æ—¶ï¼Œåº”å½“é¿å…ä½¿ç”¨æµ®ç‚¹æ•°è¿ç®—ï¼Œç›´æ¥ä½¿ç”¨æ•´æ•°è¿ç®—æ›´åŠ ç¨³å¦¥å’Œç²¾ç¡®ï¼Œå¯ä»¥é¿å…å› æµ®ç‚¹è¯¯å·®å¯¼è‡´çš„ WAï¼ˆWrong Answerï¼‰ã€‚

> å‚è€ƒï¼šhttps://codeforces.com/blog/entry/107717

### æ¨èçš„æ•´æ•°è¿ç®—å†™æ³•

#### 1. å‘ä¸‹å–æ•´é™¤æ³• $\lfloor\frac{a}{b}\rfloor$
- âŒ åˆ«ç”¨ï¼š`floor(1.0 * a / b)`
- âœ… è¦ç”¨ï¼š`a / b`
- ç¤ºä¾‹ï¼š
```cpp
int a = 7, b = 3;
int result = a / b;  // ç»“æœä¸º 2
```

#### 2. å‘ä¸Šå–æ•´é™¤æ³• $\lceil\frac{a}{b}\rceil$
- âŒ åˆ«ç”¨ï¼š`ceil(1.0 * a / b)`
- âœ… è¦ç”¨ï¼š`(a + b - 1) / b`ï¼ˆåŸºäºå…¬å¼ï¼š$\lceil\frac{a}{b}\rceil=\lfloor\frac{a+b-1}{b}\rfloor$ï¼‰
- ç¤ºä¾‹ï¼š
```cpp
int a = 7, b = 3;
int result = (a + b - 1) / b;  // ç»“æœä¸º 3
```

#### 3. å¹³æ–¹æ ¹å‘ä¸‹å–æ•´ $\lfloor\sqrt a\rfloor$
- âŒ åˆ«ç”¨ï¼š`(int) sqrt(a)`
- âœ… è¦ç”¨ï¼š[äºŒåˆ†æŸ¥æ‰¾](https://oiwiki.com/basic/binary/)
- ç¤ºä¾‹ï¼š
```cpp
// äºŒåˆ†æŸ¥æ‰¾è®¡ç®— floor(sqrt(n))
int isqrt(int n) {
    int l = 0, r = n;
    while (l < r) {
        int mid = l + (r - l + 1) / 2;
        if (mid <= n / mid) l = mid;  // é¿å… mid * mid æº¢å‡º
        else r = mid - 1;
    }
    return l;
}
```

#### 4. æ•´æ•°å¹‚è¿ç®— $a^b$
- âŒ åˆ«ç”¨ï¼š`pow(a, b)`
- âœ… è¦ç”¨ï¼š[å¿«é€Ÿå¹‚](https://oiwiki.com/math/binary-exponentiation/)
- ç¤ºä¾‹ï¼š
```cpp
// å¿«é€Ÿå¹‚è®¡ç®— a^b
long long qpow(long long a, long long b) {
    long long res = 1;
    while (b) {
        if (b & 1) res *= a;
        a *= a;
        b >>= 1;
    }
    return res;
}
```

#### 5. ä»¥2ä¸ºåº•çš„å¯¹æ•°å‘ä¸‹å–æ•´ $\lfloor\log_2 a\rfloor$
- âŒ åˆ«ç”¨ï¼š`log2(a)`
- âœ… è¦ç”¨ï¼š`__lg(a)` æˆ– `bit_width(a) - 1`ï¼ˆC++20ï¼‰
- ç¤ºä¾‹ï¼š
```cpp
int a = 15;
int result = __lg(a);  // ç»“æœä¸º 3ï¼Œå› ä¸º log2(15) â‰ˆ 3.9
// C++20: int result = std::bit_width((unsigned)a) - 1;
```

## 4.9 `gcd()` / `lcm()`

ï¼ˆC++17ï¼‰è¿”å›æœ€å¤§å…¬å› æ•° / æœ€å°å…¬å€æ•°

```cpp
int x = gcd(8, 12); // 4
int y = lcm(8, 12); // 24
```

å¦‚æœä¸æ˜¯ C++17ï¼Œä½†æ˜¯æ˜¯ GNU ç¼–è¯‘å™¨ï¼ˆg++ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å†…ç½®å‡½æ•° `__gcd()`.

å½“ç„¶ï¼Œ`gcd` / `lcm` å‡½æ•°ä¹ŸæŒºå¥½å†™ï¼Œç›´æ¥å†™ä¹Ÿè¡Œï¼ˆæ¬§å‡ é‡Œå¾—ç®—æ³•ï¼‰ï¼š

```cpp
int gcd(int a, int b)
{
    if (!b)
        return a;
    return gcd(b, a % b);
}

int lcm(int a, int b)
{
    return a / gcd(a, b) * b;
}
```
---



# 5 å…¶ä»–å¸¸ç”¨å®¹å™¨

æœ¬ç« èŠ‚è¡¥å……äº†ä¸€äº›åœ¨ç®—æ³•ç«èµ›ä¸­ä¹Ÿè¾ƒä¸ºå¸¸ç”¨çš„å®¹å™¨ï¼Œè™½ç„¶ä½¿ç”¨é¢‘ç‡ä¸å¦‚å‰é¢ç« èŠ‚çš„å®¹å™¨ï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹éå¸¸æœ‰ç”¨ã€‚

## 5.1 æ•°ç»„ [array](https://zh.cppreference.com/w/cpp/container/array)

**`#include <array>`**

å›ºå®šé•¿åº¦çš„é¡ºåºå®¹å™¨ï¼Œåœ¨ç¼–è¯‘æœŸå°±ç¡®å®šå¤§å°ï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿæ•°ç»„ï¼Œä½†æä¾›äº† STL å®¹å™¨çš„æ¥å£ã€‚

### 5.1.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`array<ç±»å‹, é•¿åº¦> arr`**

æ³¨æ„ï¼šé•¿åº¦å¿…é¡»æ˜¯ç¼–è¯‘æœŸå¸¸é‡ã€‚

æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$

```cpp
array<int, 5> arr1;              // æ„é€ é•¿åº¦ä¸º5çš„intæ•°ç»„ï¼Œæœªåˆå§‹åŒ–
array<int, 5> arr2 = {1, 2, 3};  // æ„é€ å¹¶åˆå§‹åŒ–å‰3ä¸ªå…ƒç´ ï¼Œå2ä¸ªä¸º0
array<int, 5> arr3{};            // æ„é€ å¹¶å…¨éƒ¨åˆå§‹åŒ–ä¸º0
```

#### è®¿é—®å…ƒç´ 

**ä¸­æ‹¬å·è¿ç®—ç¬¦ `[]`** å’Œ **`.at()`**

æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$

```cpp
array<int, 5> arr = {1, 2, 3, 4, 5};
cout << arr[0] << endl;     // 1, ä¸æ£€æŸ¥è¶Šç•Œ
cout << arr.at(0) << endl;  // 1, æ£€æŸ¥è¶Šç•Œï¼Œè¶Šç•Œä¼šæŠ›å‡ºå¼‚å¸¸
```

#### è·å–é¦–å°¾å…ƒç´ 

- **`.front()`**ï¼šè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
- **`.back()`**ï¼šè¿”å›æœ€åä¸€ä¸ªå…ƒç´ 

æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$

#### è·å–é•¿åº¦

**`.size()`**

æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$

#### å¡«å……

**`.fill(å€¼)`**

å°†æ‰€æœ‰å…ƒç´ è®¾ç½®ä¸ºæŒ‡å®šå€¼

æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$

```cpp
array<int, 5> arr;
arr.fill(0);  // æ‰€æœ‰å…ƒç´ è®¾ä¸º0
```

### 5.1.2 é€‚ç”¨æƒ…å½¢

- é•¿åº¦åœ¨ç¼–è¯‘æœŸå·²çŸ¥ä¸”å›ºå®šçš„åœºæ™¯
- éœ€è¦ STL æ¥å£ä½†åˆè¿½æ±‚æ€§èƒ½çš„åœºæ™¯
- ç›¸æ¯”æ™®é€šæ•°ç»„ï¼Œarray å¯ä»¥ä½œä¸ºå‡½æ•°è¿”å›å€¼ã€æ”¯æŒèµ‹å€¼æ“ä½œ

### 5.1.3 æ³¨æ„äº‹é¡¹

#### é•¿åº¦å¿…é¡»æ˜¯å¸¸é‡

```cpp
int n = 10;
array<int, n> arr;       // é”™è¯¯ï¼nä¸æ˜¯ç¼–è¯‘æœŸå¸¸é‡
array<int, 10> arr;      // æ­£ç¡®
const int N = 10;
array<int, N> arr;       // æ­£ç¡®
```

#### ä¸èƒ½åŠ¨æ€æ”¹å˜å¤§å°

array çš„å¤§å°åœ¨ç¼–è¯‘æœŸç¡®å®šï¼Œæ— æ³•åƒ vector é‚£æ ·åŠ¨æ€å¢é•¿ã€‚

## 5.2 åŒç«¯é˜Ÿåˆ— [deque](https://zh.cppreference.com/w/cpp/container/deque)

**`#include <deque>`**

åŒç«¯é˜Ÿåˆ—ï¼ˆdouble-ended queueï¼‰ï¼Œæ”¯æŒåœ¨å¤´å°¾ä¸¤ç«¯é«˜æ•ˆæ’å…¥å’Œåˆ é™¤çš„é¡ºåºå®¹å™¨ã€‚

### 5.2.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`deque<ç±»å‹> dq`**

```cpp
deque<int> dq;          // æ„é€ ç©ºåŒç«¯é˜Ÿåˆ—
deque<int> dq(10);      // æ„é€ é•¿åº¦ä¸º10çš„åŒç«¯é˜Ÿåˆ—
deque<int> dq(10, 1);   // æ„é€ é•¿åº¦ä¸º10ï¼Œåˆå€¼ä¸º1çš„åŒç«¯é˜Ÿåˆ—
```

#### å¤´å°¾æ“ä½œ

- **`.push_front(å…ƒç´ )`**ï¼šåœ¨å¤´éƒ¨æ’å…¥å…ƒç´ 
- **`.push_back(å…ƒç´ )`**ï¼šåœ¨å°¾éƒ¨æ’å…¥å…ƒç´ 
- **`.pop_front()`**ï¼šåˆ é™¤å¤´éƒ¨å…ƒç´ 
- **`.pop_back()`**ï¼šåˆ é™¤å°¾éƒ¨å…ƒç´ 
- **`.front()`**ï¼šè®¿é—®å¤´éƒ¨å…ƒç´ 
- **`.back()`**ï¼šè®¿é—®å°¾éƒ¨å…ƒç´ 

æ—¶é—´å¤æ‚åº¦ï¼šå‡ä¸º $O(1)$

```cpp
deque<int> dq;
dq.push_back(1);   // dq = [1]
dq.push_front(2);  // dq = [2, 1]
dq.push_back(3);   // dq = [2, 1, 3]
int x = dq.front(); // x = 2
dq.pop_front();    // dq = [1, 3]
```

#### éšæœºè®¿é—®

**ä¸­æ‹¬å·è¿ç®—ç¬¦ `[]`**

æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$

#### å…¶ä»–

- **`.size()`**ï¼šè·å–é•¿åº¦
- **`.empty()`**ï¼šåˆ¤ç©º
- **`.clear()`**ï¼šæ¸…ç©º

### 5.2.2 é€‚ç”¨æƒ…å½¢

- éœ€è¦åœ¨ä¸¤ç«¯è¿›è¡Œæ’å…¥åˆ é™¤æ“ä½œçš„åœºæ™¯
- å•è°ƒé˜Ÿåˆ—çš„å®ç°
- æ»‘åŠ¨çª—å£é—®é¢˜

### 5.2.3 æ³¨æ„äº‹é¡¹

#### æ€§èƒ½ä¸å¦‚ vector

deque è™½ç„¶æ”¯æŒéšæœºè®¿é—®ï¼Œä½†æ€§èƒ½ä¸å¦‚ vectorï¼Œå› ä¸ºå…¶å†…å­˜ä¸æ˜¯å®Œå…¨è¿ç»­çš„ã€‚å¦‚æœåªéœ€è¦å°¾éƒ¨æ“ä½œï¼Œä¼˜å…ˆä½¿ç”¨ vectorã€‚

## 5.3 é“¾è¡¨ [list](https://zh.cppreference.com/w/cpp/container/list)

**`#include <list>`**

åŒå‘é“¾è¡¨ï¼Œæ”¯æŒåœ¨ä»»æ„ä½ç½®å¿«é€Ÿæ’å…¥å’Œåˆ é™¤ï¼Œä½†ä¸æ”¯æŒéšæœºè®¿é—®ã€‚

### 5.3.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`list<ç±»å‹> lst`**

```cpp
list<int> lst;          // æ„é€ ç©ºé“¾è¡¨
list<int> lst(10);      // æ„é€ 10ä¸ªå…ƒç´ çš„é“¾è¡¨
list<int> lst(10, 1);   // æ„é€ 10ä¸ªå…ƒç´ ï¼Œåˆå€¼ä¸º1
```

#### å¤´å°¾æ“ä½œ

- **`.push_front(å…ƒç´ )`**ï¼šåœ¨å¤´éƒ¨æ’å…¥
- **`.push_back(å…ƒç´ )`**ï¼šåœ¨å°¾éƒ¨æ’å…¥
- **`.pop_front()`**ï¼šåˆ é™¤å¤´éƒ¨å…ƒç´ 
- **`.pop_back()`**ï¼šåˆ é™¤å°¾éƒ¨å…ƒç´ 
- **`.front()`**ï¼šè®¿é—®å¤´éƒ¨å…ƒç´ 
- **`.back()`**ï¼šè®¿é—®å°¾éƒ¨å…ƒç´ 

æ—¶é—´å¤æ‚åº¦ï¼šå‡ä¸º $O(1)$

#### æ’å…¥å’Œåˆ é™¤

- **`.insert(è¿­ä»£å™¨, å…ƒç´ )`**ï¼šåœ¨æŒ‡å®šä½ç½®å‰æ’å…¥
- **`.erase(è¿­ä»£å™¨)`**ï¼šåˆ é™¤æŒ‡å®šä½ç½®å…ƒç´ 

æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$ï¼ˆéœ€è¦å…ˆé€šè¿‡éå†æ‰¾åˆ°ä½ç½®ï¼‰

#### å…¶ä»–æ“ä½œ

- **`.sort()`**ï¼šå¯¹é“¾è¡¨æ’åº
- **`.reverse()`**ï¼šåè½¬é“¾è¡¨
- **`.unique()`**ï¼šå»é™¤ç›¸é‚»é‡å¤å…ƒç´ 
- **`.merge(å¦ä¸€ä¸ªlist)`**ï¼šåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨

### 5.3.2 é€‚ç”¨æƒ…å½¢

- é¢‘ç¹åœ¨ä¸­é—´ä½ç½®æ’å…¥åˆ é™¤çš„åœºæ™¯
- ä¸éœ€è¦éšæœºè®¿é—®çš„åœºæ™¯
- å®é™…ç«èµ›ä¸­å¾ˆå°‘ä½¿ç”¨ï¼Œä¸€èˆ¬ç”¨ vector æˆ– deque ä»£æ›¿

### 5.3.3 æ³¨æ„äº‹é¡¹

#### ä¸æ”¯æŒéšæœºè®¿é—®

```cpp
list<int> lst = {1, 2, 3, 4, 5};
cout << lst[2] << endl;  // é”™è¯¯ï¼ä¸æ”¯æŒä¸‹æ ‡è®¿é—®
```

#### æ€§èƒ½å¼€é”€

é“¾è¡¨çš„èŠ‚ç‚¹ä¸è¿ç»­ï¼Œç¼“å­˜æ€§èƒ½å·®ï¼Œåœ¨ç«èµ›ä¸­ä¸€èˆ¬ä¸æ¨èä½¿ç”¨ã€‚

## 5.4 å¤šé‡é›†åˆ [multiset](https://zh.cppreference.com/w/cpp/container/multiset)

**`#include <set>`**

ä¸ set ç±»ä¼¼ï¼Œä½†å…è®¸å…ƒç´ é‡å¤å‡ºç°ã€‚åº•å±‚åŸç†æ˜¯çº¢é»‘æ ‘ã€‚

### 5.4.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`multiset<ç±»å‹, æ¯”è¾ƒå™¨> mst`**

```cpp
multiset<int> mst;               // ä»å°åˆ°å¤§
multiset<int, greater<int>> mst; // ä»å¤§åˆ°å°
```

#### æ’å…¥å’Œåˆ é™¤

- **`.insert(å…ƒç´ )`**ï¼šæ’å…¥å…ƒç´ ï¼ˆå…è®¸é‡å¤ï¼‰
- **`.erase(å…ƒç´ )`**ï¼šåˆ é™¤**æ‰€æœ‰**ç­‰äºè¯¥å…ƒç´ çš„å€¼
- **`.erase(è¿­ä»£å™¨)`**ï¼šåˆ é™¤è¿­ä»£å™¨æŒ‡å‘çš„å•ä¸ªå…ƒç´ 

æ—¶é—´å¤æ‚åº¦ï¼š$O(\log n)$

```cpp
multiset<int> mst;
mst.insert(1);  // [1]
mst.insert(1);  // [1, 1]
mst.insert(2);  // [1, 1, 2]
mst.erase(1);   // [2]ï¼Œåˆ é™¤äº†æ‰€æœ‰çš„1

// å¦‚æœåªæƒ³åˆ é™¤ä¸€ä¸ª1ï¼š
multiset<int> mst = {1, 1, 2};
mst.erase(mst.find(1));  // [1, 2]ï¼Œåªåˆ é™¤ä¸€ä¸ª1
```

#### æŸ¥æ‰¾å’Œè®¡æ•°

- **`.find(å…ƒç´ )`**ï¼šè¿”å›ä»»æ„ä¸€ä¸ªç­‰äºè¯¥å…ƒç´ çš„è¿­ä»£å™¨
- **`.count(å…ƒç´ )`**ï¼šè¿”å›å…ƒç´ å‡ºç°çš„æ¬¡æ•°

æ—¶é—´å¤æ‚åº¦ï¼š$O(\log n)$ï¼ˆcount ä¸º $O(\log n + k)$ï¼Œ$k$ ä¸ºå…ƒç´ ä¸ªæ•°ï¼‰

#### å…¶ä»–

- **`.size()`**ã€**`.empty()`**ã€**`.clear()`**

### 5.4.2 é€‚ç”¨æƒ…å½¢

- éœ€è¦ç»´æŠ¤æœ‰åºåºåˆ—ä¸”å…è®¸é‡å¤çš„åœºæ™¯
- åŠ¨æ€ç»´æŠ¤ä¸­ä½æ•°
- å¯¹é¡¶å †çš„å®ç°

### 5.4.3 æ³¨æ„äº‹é¡¹

#### åˆ é™¤æ—¶æ³¨æ„æ˜¯åˆ é™¤æ‰€æœ‰è¿˜æ˜¯å•ä¸ª

```cpp
multiset<int> mst = {1, 1, 1, 2};
mst.erase(1);              // åˆ é™¤æ‰€æœ‰1ï¼Œç»“æœï¼š[2]
mst.erase(mst.find(1));    // åªåˆ é™¤ä¸€ä¸ª1ï¼Œç»“æœï¼š[1, 1, 2]
```

## 5.5 å¤šé‡æ˜ å°„ [multimap](https://zh.cppreference.com/w/cpp/container/multimap)

**`#include <map>`**

ä¸ map ç±»ä¼¼ï¼Œä½†å…è®¸é”®é‡å¤å‡ºç°ã€‚åº•å±‚åŸç†æ˜¯çº¢é»‘æ ‘ã€‚

### 5.5.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`multimap<é”®ç±»å‹, å€¼ç±»å‹, æ¯”è¾ƒå™¨> mmp`**

```cpp
multimap<int, int> mmp;               // é”®ä»å°åˆ°å¤§
multimap<int, int, greater<int>> mmp; // é”®ä»å¤§åˆ°å°
```

#### æ’å…¥

- **`.insert({é”®, å€¼})`** æˆ– **`.insert(make_pair(é”®, å€¼))`**

æ—¶é—´å¤æ‚åº¦ï¼š$O(\log n)$

```cpp
multimap<int, int> mmp;
mmp.insert({1, 100});
mmp.insert({1, 200});  // å…è®¸é”®é‡å¤
mmp.insert({2, 300});
```

#### æŸ¥æ‰¾

- **`.find(é”®)`**ï¼šè¿”å›ä»»æ„ä¸€ä¸ªè¯¥é”®çš„è¿­ä»£å™¨
- **`.count(é”®)`**ï¼šè¿”å›è¯¥é”®å‡ºç°çš„æ¬¡æ•°
- **`.equal_range(é”®)`**ï¼šè¿”å›åŒ…å«æ‰€æœ‰è¯¥é”®å…ƒç´ çš„è¿­ä»£å™¨èŒƒå›´

æ—¶é—´å¤æ‚åº¦ï¼š$O(\log n)$

```cpp
multimap<int, int> mmp = {{1, 100}, {1, 200}, {2, 300}};
cout << mmp.count(1) << endl;  // 2

auto range = mmp.equal_range(1);
for (auto it = range.first; it != range.second; ++it)
    cout << it->second << endl;  // è¾“å‡º 100 200
```

#### åˆ é™¤

- **`.erase(é”®)`**ï¼šåˆ é™¤æ‰€æœ‰è¯¥é”®çš„å…ƒç´ 
- **`.erase(è¿­ä»£å™¨)`**ï¼šåˆ é™¤å•ä¸ªå…ƒç´ 

æ—¶é—´å¤æ‚åº¦ï¼š$O(\log n)$

### 5.5.2 é€‚ç”¨æƒ…å½¢

- éœ€è¦ä¸€å¯¹å¤šæ˜ å°„çš„åœºæ™¯
- å®é™…ç«èµ›ä¸­è¾ƒå°‘ä½¿ç”¨ï¼Œä¸€èˆ¬ç”¨ `map<é”®, vector<å€¼>>` ä»£æ›¿

### 5.5.3 æ³¨æ„äº‹é¡¹

#### ä¸èƒ½ä½¿ç”¨ä¸­æ‹¬å·è®¿é—®

```cpp
multimap<int, int> mmp;
mmp[1] = 100;  // é”™è¯¯ï¼multimapä¸æ”¯æŒ[]è¿ç®—ç¬¦
```

## 5.6 æ— åºé›†åˆ [unordered_set](https://zh.cppreference.com/w/cpp/container/unordered_set)

**`#include <unordered_set>`**

åŸºäºå“ˆå¸Œè¡¨å®ç°çš„é›†åˆï¼Œå…ƒç´ æ— åºä½†æŸ¥æ‰¾é€Ÿåº¦å¿«ã€‚

### 5.6.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`unordered_set<ç±»å‹> ust`**

```cpp
unordered_set<int> ust;
```

#### æ’å…¥å’Œåˆ é™¤

- **`.insert(å…ƒç´ )`**ï¼šæ’å…¥å…ƒç´ 
- **`.erase(å…ƒç´ )`**ï¼šåˆ é™¤å…ƒç´ 

å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$ï¼Œæœ€å $O(n)$

#### æŸ¥æ‰¾

- **`.find(å…ƒç´ )`**ï¼šè¿”å›å…ƒç´ è¿­ä»£å™¨
- **`.count(å…ƒç´ )`**ï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼ˆè¿”å›0æˆ–1ï¼‰

å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$ï¼Œæœ€å $O(n)$

```cpp
unordered_set<int> ust = {1, 3, 5, 7};
if (ust.count(3))  // åˆ¤æ–­3æ˜¯å¦å­˜åœ¨
    cout << "exists" << endl;
```

#### å…¶ä»–

- **`.size()`**ã€**`.empty()`**ã€**`.clear()`**

### 5.6.2 é€‚ç”¨æƒ…å½¢

- åªéœ€è¦åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œä¸éœ€è¦æœ‰åºæ€§
- å¯¹æŸ¥æ‰¾æ€§èƒ½è¦æ±‚é«˜çš„åœºæ™¯
- å…ƒç´ å»é‡ä½†ä¸éœ€è¦æ’åº

### 5.6.3 æ³¨æ„äº‹é¡¹

#### å…ƒç´ æ— åº

unordered_set çš„å…ƒç´ æ˜¯æ— åºçš„ï¼Œéå†æ—¶çš„é¡ºåºä¸ç¡®å®šã€‚

#### æœ€åæƒ…å†µæ€§èƒ½é€€åŒ–

å½“å“ˆå¸Œå†²çªä¸¥é‡æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šé€€åŒ–åˆ° $O(n)$ã€‚ç«èµ›ä¸­å¦‚æœè¢«å¡å“ˆå¸Œï¼Œå¯ä»¥ä½¿ç”¨ set ä»£æ›¿ã€‚

#### ä¸æ”¯æŒè‡ªå®šä¹‰ç±»å‹

å¯¹äºè‡ªå®šä¹‰ç±»å‹ï¼Œéœ€è¦æä¾›å“ˆå¸Œå‡½æ•°ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚

## 5.7 æ— åºæ˜ å°„ [unordered_map](https://zh.cppreference.com/w/cpp/container/unordered_map)

**`#include <unordered_map>`**

åŸºäºå“ˆå¸Œè¡¨å®ç°çš„é”®å€¼å¯¹å®¹å™¨ï¼Œé”®æ— åºä½†æŸ¥æ‰¾é€Ÿåº¦å¿«ã€‚

### 5.7.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`unordered_map<é”®ç±»å‹, å€¼ç±»å‹> ump`**

```cpp
unordered_map<int, int> ump;
unordered_map<string, int> ump;  // å¸¸ç”¨äºå­—ç¬¦ä¸²æ˜ å°„
```

#### å¢åˆ æ”¹æŸ¥

- **ä¸­æ‹¬å· `[]`**ï¼šè®¿é—®æˆ–æ’å…¥
- **`.insert({é”®, å€¼})`**ï¼šæ’å…¥
- **`.erase(é”®)`**ï¼šåˆ é™¤
- **`.find(é”®)`**ï¼šæŸ¥æ‰¾
- **`.count(é”®)`**ï¼šåˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨

å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$ï¼Œæœ€å $O(n)$

```cpp
unordered_map<string, int> ump;
ump["apple"] = 5;
ump["banana"] = 3;

if (ump.count("apple"))
    cout << ump["apple"] << endl;  // 5
```

#### å…¶ä»–

- **`.size()`**ã€**`.empty()`**ã€**`.clear()`**

### 5.7.2 é€‚ç”¨æƒ…å½¢

- åªéœ€è¦é”®å€¼æ˜ å°„ï¼Œä¸éœ€è¦é”®çš„æœ‰åºæ€§
- å¯¹æŸ¥æ‰¾æ€§èƒ½è¦æ±‚é«˜çš„åœºæ™¯
- å­—ç¬¦ä¸²å“ˆå¸Œã€è®¡æ•°ç­‰åœºæ™¯

### 5.7.3 æ³¨æ„äº‹é¡¹

#### é”®æ— åº

éå†æ—¶é”®çš„é¡ºåºä¸ç¡®å®šã€‚

#### å¯èƒ½è¢«å¡å“ˆå¸Œ

ç«èµ›ä¸­å¦‚æœè¢«å¡å“ˆå¸Œï¼Œä½¿ç”¨ map ä»£æ›¿æˆ–è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°ã€‚

#### ä¸­æ‹¬å·çš„å‰¯ä½œç”¨

ä¸ map ç›¸åŒï¼Œä½¿ç”¨ `[]` è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šåˆ›å»ºè¯¥é”®ã€‚

## 5.8 æ— åºå¤šé‡é›†åˆ [unordered_multiset](https://zh.cppreference.com/w/cpp/container/unordered_multiset)

**`#include <unordered_set>`**

åŸºäºå“ˆå¸Œè¡¨çš„ multisetï¼Œå…è®¸å…ƒç´ é‡å¤ä¸”æ— åºã€‚

### 5.8.1 å¸¸ç”¨æ–¹æ³•

ä¸ multiset ç±»ä¼¼ï¼Œä½†å…ƒç´ æ— åºï¼Œæ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ã€‚

```cpp
unordered_multiset<int> umst;
umst.insert(1);
umst.insert(1);
umst.insert(2);
cout << umst.count(1) << endl;  // 2
```

### 5.8.2 é€‚ç”¨æƒ…å½¢

éœ€è¦å…è®¸é‡å¤å…ƒç´ ï¼Œä¸”ä¸éœ€è¦æœ‰åºæ€§ï¼Œè¿½æ±‚æŸ¥æ‰¾æ€§èƒ½ã€‚

### 5.8.3 æ³¨æ„äº‹é¡¹

å®é™…ç«èµ›ä¸­å¾ˆå°‘ä½¿ç”¨ï¼Œä¸€èˆ¬ç”¨ unordered_map é…åˆè®¡æ•°å®ç°ã€‚

## 5.9 æ— åºå¤šé‡æ˜ å°„ [unordered_multimap](https://zh.cppreference.com/w/cpp/container/unordered_multimap)

**`#include <unordered_map>`**

åŸºäºå“ˆå¸Œè¡¨çš„ multimapï¼Œå…è®¸é”®é‡å¤ä¸”æ— åºã€‚

### 5.9.1 å¸¸ç”¨æ–¹æ³•

ä¸ multimap ç±»ä¼¼ï¼Œä½†é”®æ— åºï¼Œæ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ã€‚

```cpp
unordered_multimap<int, int> ummp;
ummp.insert({1, 100});
ummp.insert({1, 200});
cout << ummp.count(1) << endl;  // 2
```

### 5.9.2 é€‚ç”¨æƒ…å½¢

éœ€è¦ä¸€å¯¹å¤šæ˜ å°„ï¼Œä¸”ä¸éœ€è¦é”®çš„æœ‰åºæ€§ã€‚

### 5.9.3 æ³¨æ„äº‹é¡¹

å®é™…ç«èµ›ä¸­å¾ˆå°‘ä½¿ç”¨ï¼Œä¸€èˆ¬ç”¨ `unordered_map<é”®, vector<å€¼>>` ä»£æ›¿ã€‚

## 5.10 å…ƒç»„ [tuple](https://zh.cppreference.com/w/cpp/utility/tuple)

**`#include <tuple>`**

å¯ä»¥å­˜å‚¨ä»»æ„æ•°é‡ã€ä»»æ„ç±»å‹å…ƒç´ çš„å®¹å™¨ï¼Œæ˜¯ pair çš„æ‰©å±•ç‰ˆæœ¬ã€‚

### 5.10.1 å¸¸ç”¨æ–¹æ³•

#### æ„é€ 

**`tuple<ç±»å‹1, ç±»å‹2, ...> tup`**

```cpp
tuple<int, double, string> t1;
tuple<int, int, int> t2;
```

#### èµ‹å€¼

è€å¼å†™æ³•ï¼š

```cpp
tuple<int, double, string> t = make_tuple(1, 3.14, "hello");
```

åˆ—è¡¨æ„é€ ï¼ˆC++11ï¼‰ï¼š

```cpp
tuple<int, double, string> t = {1, 3.14, "hello"};
```

#### å–å€¼

ä½¿ç”¨ `get<ç´¢å¼•>(tuple)` è·å–å…ƒç´ ï¼ˆç´¢å¼•ä»0å¼€å§‹ï¼‰ï¼š

```cpp
tuple<int, double, string> t = {1, 3.14, "hello"};
int a = get<0>(t);        // 1
double b = get<1>(t);     // 3.14
string c = get<2>(t);     // "hello"
```

ç»“æ„åŒ–ç»‘å®šï¼ˆC++17ï¼‰ï¼š

```cpp
tuple<int, double, string> t = {1, 3.14, "hello"};
auto [a, b, c] = t;
cout << a << ' ' << b << ' ' << c << endl;  // 1 3.14 hello
```

#### è·å–å…ƒç»„å¤§å°

```cpp
tuple<int, double, string> t;
constexpr size_t size = tuple_size<decltype(t)>::value;  // 3
```

### 5.10.2 é€‚ç”¨æƒ…å½¢

- éœ€è¦è¿”å›å¤šä¸ªå€¼çš„å‡½æ•°
- å­˜å‚¨ä¸‰å…ƒç»„ã€å››å…ƒç»„ç­‰å¤šå…ƒæ•°æ®
- åœ¨ map ä¸­ä½¿ç”¨å¤åˆé”®ï¼š`map<tuple<int, int, int>, int>`

### 5.10.3 æ³¨æ„äº‹é¡¹

#### è®¿é—®è¯­æ³•è¾ƒç¹ç

ç›¸æ¯” pair çš„ `.first` å’Œ `.second`ï¼Œtuple çš„ `get<0>()` è¯­æ³•è¾ƒä¸ºå†—é•¿ï¼Œå»ºè®®é…åˆ C++17 çš„ç»“æ„åŒ–ç»‘å®šä½¿ç”¨ã€‚

#### å¯è¯»æ€§é—®é¢˜

å¯¹äºå…ƒç´ è¾ƒå¤šçš„ tupleï¼Œå»ºè®®å®šä¹‰ç»“æ„ä½“ä»¥æé«˜ä»£ç å¯è¯»æ€§ï¼š

```cpp
// ä¸æ¨è
tuple<int, int, string, double> student;

// æ¨è
struct Student {
    int id;
    int age;
    string name;
    double score;
};
```

# è¡¥å……ï¼š

## åˆå§‹åŒ–æ„é€ 
STL å¤§å¤šæ•°å®¹å™¨éƒ½æ”¯æŒ åŒºé—´æ„é€ å‡½æ•°ï¼Œæ–¹ä¾¿ä»åˆ«çš„å®¹å™¨å¿«é€Ÿæ‹·è´æ•°æ®ï¼š
```CPP
vector<int> v2(v1.begin(), v1.end());
set<int> s(v.begin(), v.end());
unordered_set<int> s(nums.begin(), nums.end());
map<int,int> m(v.begin(), v.end());//ï¼ˆå‰æ pair ç±»å‹å…¼å®¹ï¼‰
```

## éšæœºè®¿é—®æ–¹å¼ 
è®²äº†åŒºé—´æ„é€ ï¼Œè‡ªç„¶è€Œç„¶æ¶‰åŠåˆ°åŒºé—´è®¿é—®ï¼Œæˆ‘ä»¬å·²ç»å­¦è¿‡è¿­ä»£å™¨ï¼Œè®¿é—®å·®å¼‚è§ä¸‹è¡¨ï¼š
| å®¹å™¨                                                | è¿­ä»£å™¨ç±»å‹          | èƒ½å¦ç”¨ `it + n`  | è¯´æ˜                |
| ------------------------------------------------- | -------------- | ------------- | ----------------- |
| `vector` / `string` / `deque`                     | **éšæœºè®¿é—®è¿­ä»£å™¨**    | âœ” å¯ä»¥ `it + n` | æ”¯æŒåŠ å‡æ•´æ•°            |
| `list` / `forward_list`                           | **åŒå‘ / å•å‘è¿­ä»£å™¨** | âŒ ä¸å¯ä»¥         | å¿…é¡»ç”¨ `next(it, n)` |
| `set` / `map` / `unordered_set` / `unordered_map` | **åŒå‘è¿­ä»£å™¨**      | âŒ ä¸å¯ä»¥         | å¿…é¡»ç”¨ `next(it, n)` |
ä¸ºä»€ä¹ˆä¸èƒ½ç»™ set / map ç›´æ¥åŠ æ•°å­—ï¼Ÿ

å› ä¸ºå®ƒä»¬åº•å±‚æ˜¯ çº¢é»‘æ ‘ï¼Œä¸æ˜¯è¿ç»­å†…å­˜
â†’ è¿­ä»£å™¨ä¸èƒ½â€œè·³ n æ ¼â€ã€‚
å¿…é¡»ä¸€ä¸ªä¸ªèµ°ï¼Œæ‰€ä»¥éœ€è¦ std::next()ã€‚

è€Œ vector/string åº•å±‚æ˜¯æ•°ç»„
â†’ éšä¾¿è·³ï¼šit + n åˆæ³•ã€‚

ï¼›
unordered_set å¯ä»¥ it + n å—ï¼Ÿ

âŒ ç»å¯¹ä¸è¡Œã€‚

unordered_set åº•å±‚æ˜¯å“ˆå¸Œæ¡¶åˆ—è¡¨ï¼Œä¸è¿ç»­ï¼Œä¸æ”¯æŒéšæœºè®¿é—®ã€‚

ä½ å¿…é¡»ç”¨ï¼š

auto it = next(s.begin(), k);

ğŸ“ æ€»ç»“ä¸€å¥è¯è®°ä½

â¡ è¿ç»­å®¹å™¨ï¼ˆvector/string/dequeï¼‰ç”¨ it + n
â¡ éè¿ç»­å®¹å™¨ï¼ˆset/map/unordered_ç³»åˆ—/listï¼‰ç”¨ next(it, n)

## å…³äºmapå’Œsetçš„åˆå§‹åŒ–

åœ¨ C++ é‡Œï¼Œ`map` å’Œ `set` çœ‹èµ·æ¥å¾ˆåƒï¼Œéƒ½æ˜¯åŸºäºçº¢é»‘æ ‘å®ç°çš„å…³è”å®¹å™¨ï¼Œä½†å®ƒä»¬çš„è¡Œä¸ºæœ‰ä¸€ä¸ªå…³é”®å·®åˆ«ï¼š**map åœ¨è®¿é—®ä¸å­˜åœ¨çš„ key æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå…ƒç´ ï¼Œè€Œ set å®Œå…¨ä¸ä¼šã€‚**
å¦‚æœsetä¸ºç©ºï¼Œå°±ç”¨è§£å¼•ç”¨è¿­ä»£å™¨çš„æ–¹å¼è®¿é—®ï¼Œä¼šå¯¼è‡´**æœªå®šä¹‰è¡Œä¸ºUB**
åŸå› å¾ˆç®€å•ï¼š
`map` æä¾›äº†ä¸‹æ ‡æ“ä½œç¬¦ `operator[]`ã€‚å½“ä½ å†™ `mp[key]` æ—¶ï¼Œå¦‚æœ key ä¸å­˜åœ¨ï¼Œ`map` ä¼šè‡ªåŠ¨æ’å…¥ä¸€æ¡è®°å½• `{key, mapped_type()}`ã€‚å¯¹äº `int`ï¼Œé»˜è®¤å€¼å°±æ˜¯ `0`ï¼Œæ‰€ä»¥ `mp[x]` ä¼šäº§ç”Ÿä¸€ä¸ªæ–°å…ƒç´ ã€‚

è€Œ `set` çš„å…ƒç´ åªæœ‰ keyï¼Œæ²¡æœ‰ valueï¼Œä¹Ÿæ²¡æœ‰æä¾› `operator[]`ã€‚å®ƒåªæ”¯æŒ `insert`ã€`find` è¿™ç±»æŸ¥æ‰¾ä¸æ’å…¥æ“ä½œã€‚è®¿é—®ä¸å­˜åœ¨çš„å…ƒç´ åªä¼šå¾—åˆ° `end()`ï¼Œç»ä¸ä¼šè‡ªåŠ¨åˆ›å»ºã€‚

åŒç†ï¼Œ`unordered_map` ä¹Ÿä¼šè‡ªåŠ¨æ’å…¥ï¼Œ`unordered_set` åˆ™ä¸ä¼šã€‚

ä¸€å¥è¯æ€»ç»“ï¼š

* **map / unordered_mapï¼šè®¿é—®ä¸å­˜åœ¨çš„ key â†’ è‡ªåŠ¨åˆ›å»ºï¼Œå€¼ä¸ºé»˜è®¤åˆå§‹åŒ–**
* **set / unordered_setï¼šç»ä¸è‡ªåŠ¨åˆ›å»ºï¼Œåªèƒ½æ˜¾å¼ insert**

è¿™å°±æ˜¯å®ƒä»¬åœ¨ä½¿ç”¨ä¸Šçš„æ ¸å¿ƒå·®åˆ«ã€‚

| å®¹å™¨              | æ˜¯å¦ä¼šè‡ªåŠ¨åˆ›å»º key | è¯´æ˜                               |
| --------------- | ----------- | -------------------------------- |
| `map`           | âœ” ä¼š         | `operator[]` æ’å…¥ `{key, value=0}` |
| `unordered_map` | âœ” ä¼š         | åŒæ ·æ’å…¥ `{key, 0}`                  |
| `set`           | âŒ ä¸ä¼š        | æ²¡æœ‰ operator[]ï¼Œä¸èƒ½è‡ªåŠ¨åˆ›å»º             |
| `unordered_set` | âŒ ä¸ä¼š        | â€œæŸ¥ä¸åˆ°â€ä¸ä¼šæ’å…¥ä»»ä½•ä¸œè¥¿                    |

## æ˜“æ··æˆå‘˜å‡½æ•°
| æˆå‘˜å‡½æ•°       | è¿”å›ç±»å‹     | èƒ½å¦è§£å¼•ç”¨        | è¯´æ˜             |
| ---------- | -------- | ------------ | -------------- |
| `begin()`  | è¿­ä»£å™¨      | âœ”ï¸ï¼ˆè§£å¼•ç”¨åï¼‰     | æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´         |
| `cbegin()` | constè¿­ä»£å™¨ | âœ”ï¸           | å¸¸é‡å¼€å§‹è¿­ä»£å™¨        |
| `end()`    | è¿­ä»£å™¨      | âŒ **ä¸èƒ½è§£å¼•ç”¨ï¼** | æŒ‡å‘å°¾åä½ç½®ï¼ˆä¸å­˜åœ¨çš„å…ƒç´ ï¼‰ |
| `cend()`   | constè¿­ä»£å™¨ | âŒ            | å°¾åä½ç½®           |
| æˆå‘˜å‡½æ•°         | è¿”å›ç±»å‹ | èƒ½å¦è§£å¼•ç”¨ | è¯´æ˜           |
| ------------ | ---- | ----- | ------------ |
| `front()`    | å…ƒç´ å¼•ç”¨ | âœ”ï¸    | ç¬¬ä¸€ä¸ªå…ƒç´         |
| `back()`     | å…ƒç´ å¼•ç”¨ | âœ”ï¸    | æœ€åä¸€ä¸ªå…ƒç´        |
| `operator[]` | å…ƒç´ å¼•ç”¨ | âœ”ï¸    | è®¿é—®ä»»æ„ä½ç½®ï¼Œä¸æ£€æŸ¥è¶Šç•Œ |
| `at()`       | å…ƒç´ å¼•ç”¨ | âœ”ï¸    | è¶Šç•Œä¼šæŠ›å¼‚å¸¸       |
